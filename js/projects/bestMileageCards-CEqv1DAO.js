var tt=Object.defineProperty;var at=(i,t,n)=>t in i?tt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var F=(i,t,n)=>at(i,typeof t!="symbol"?t+"":t,n);import{d as Z,e as te,c as q,B as S,g as _,v as j,C as x,x as v,D as K,t as V,u as E,b as G,o as Ge,f as Q,j as L,k as P,s as ne,w as Be,E as Te,y as z,F as Y,l as X,z as Le,m as fe,G as nt,H as lt,I as ot,J as st,K as rt,A as it}from"../index-CyfYB4rv.js";import{d as dt,s as de,c as ct}from"../pinia-GiCih-E9.js";import{f as ae,C as ut,v as pt}from"../StorageManager-Dv7pGUqE.js";import{a as Je,b as De}from"../sorts-DmEn6gXZ.js";import{f as je,r as re,b as Me,g as O,a as ie}from"../index-D6lFa5lC.js";import{_ as Oe}from"../_plugin-vue_export-helper-DlAUqK2U.js";const Ue=Z({__name:"ClipList",props:{modelValue:{default:()=>[]},list:{},label:{},message:{},searchable:{type:Boolean,default:!1},addable:{type:Boolean,default:!1},showSelected:{type:Boolean,default:!1},hideDetails:{type:Boolean,default:!1}},emits:["update:model-value"],setup(i,{emit:t}){const n=te("comboboxComponent"),s=te("autocompleteComponent"),g=te("selectComponent"),d=t,u=q(()=>Je(i.list));function r(a){const p=i.modelValue.filter(B=>B!==a);y(p)}function y([...a]){d("update:model-value",a)}function h(a){return function(p){!p&&a!==null&&a.blur()}}return(a,p)=>{const B=S("v-chip"),D=S("v-combobox"),J=S("v-autocomplete"),e=S("v-select");return a.addable?(_(),j(D,{key:0,ref_key:"comboboxComponent",ref:n,"model-value":a.modelValue,items:u.value,messages:a.message??"",label:a.label,multiple:"",hint:"可新增內容","persistent-hint":"","hide-details":a.hideDetails,"hide-selected":!a.showSelected,"onUpdate:modelValue":y,"onUpdate:menu":p[0]||(p[0]=o=>h(E(n)))},{selection:x(({item:o})=>[v(B,{closable:"","onClick:close":$=>r(o.value)},{default:x(()=>[K(V(o.value),1)]),_:2},1032,["onClick:close"])]),_:1},8,["model-value","items","messages","label","hide-details","hide-selected"])):a.searchable?(_(),j(J,{key:1,ref_key:"autocompleteComponent",ref:s,"model-value":a.modelValue,items:u.value,messages:a.message??"","hide-details":a.hideDetails,label:a.label,multiple:"","hide-selected":!a.showSelected,"clear-on-select":"","onUpdate:modelValue":y,"onUpdate:menu":p[1]||(p[1]=o=>h(E(s)))},{selection:x(({item:o})=>[v(B,{closable:"","onClick:close":$=>r(o.value)},{default:x(()=>[K(V(o.value),1)]),_:2},1032,["onClick:close"])]),_:1},8,["model-value","items","messages","hide-details","label","hide-selected"])):(_(),j(e,{key:2,ref_key:"selectComponent",ref:g,"model-value":a.modelValue,items:u.value,messages:a.message??"","hide-details":a.hideDetails,label:a.label,multiple:"","hide-selected":!a.showSelected,"onUpdate:modelValue":y,"onUpdate:menu":p[2]||(p[2]=o=>h(E(g)))},{selection:x(({item:o})=>[v(B,{closable:"","onClick:close":$=>r(o.value)},{default:x(()=>[K(V(o.value),1)]),_:2},1032,["onClick:close"])]),_:1},8,["model-value","items","messages","hide-details","label","hide-selected"]))}}}),Ke=je(0),mt=re(0),Ie=re(2);class ve{constructor({type:t,name:n}){F(this,"_name");F(this,"_type");this._type=t,this._name=n}get name(){return this._name}get type(){return this._type}calculateRangePointsCost(t,n){const s=[];for(let r=t;r<=n;r++){const y=Ie(r/this.calculatePoints(r));isNaN(y)||y===1/0||y===-1/0||s.push(y)}s.sort((r,y)=>r-y);const g=s[s.length-1],d=s[0];if(g===void 0||d===void 0)throw new Error("cannot be calculated");const u=s.reduce((r,y)=>r+y,0)/s.length;return{max:g,min:d,average:Ie(u)}}}class yt extends ve{constructor({pointBackRates:n,...s}){super(s);F(this,"_pointBackRates");this._pointBackRates=n}get _maxRete(){return this._pointBackRates.reduce((n,{rate:s})=>n+s,0)}get pointBackRates(){return this._pointBackRates}get description(){return`消費${this._pointBackRates.length>1?"最高":""}${this._maxRete.toString()}%回饋點數(四捨五入)`}calculatePoints(n){let s=0;for(const{rate:g,limit:d=1/0}of this._pointBackRates)s+=Math.min(mt(n*(g/100)),d);return s}toJSON(){return{name:this._name,type:this._type,pointBackRates:this._pointBackRates}}}class gt extends ve{constructor({pointBackRates:n,...s}){super(s);F(this,"_pointBackRates");this._pointBackRates=n}get _maxRete(){return this._pointBackRates.reduce((n,{rate:s})=>n+s,0)}get pointBackRates(){return this._pointBackRates}get description(){return`消費${this._pointBackRates.length>1?"最高":""}${this._maxRete.toString()}%回饋點數(無條件捨去)`}calculatePoints(n){let s=0;for(const{rate:g,limit:d=1/0}of this._pointBackRates)s+=Math.min(Ke(n*(g/100)),d);return s}toJSON(){return{name:this._name,type:this._type,pointBackRates:this._pointBackRates}}}class ft extends ve{constructor({spendingPerPoint:n,...s}){super({...s});F(this,"_spendingPerPoint");this._spendingPerPoint=n}get spendingPerPoint(){return this._spendingPerPoint}get description(){return`每消費${this._spendingPerPoint.toString()}元累積1點 (小數會累計)`}calculatePoints(n){return Ie(n/this._spendingPerPoint)}toJSON(){return{name:this._name,type:this._type,spendingPerPoint:this._spendingPerPoint}}}class vt extends ve{constructor({spendingPerPoint:n,...s}){super({...s});F(this,"_spendingPerPoint");this._spendingPerPoint=n}get spendingPerPoint(){return this._spendingPerPoint}get description(){return`每消費${this._spendingPerPoint.toString()}元累積1點 (小數不累計)`}calculatePoints(n){return Ke(n/this._spendingPerPoint)}toJSON(){return{name:this._name,type:this._type,spendingPerPoint:this._spendingPerPoint}}}const Pt={RoundedPercentageReward:yt,TruncatedPercentageReward:gt,AccumulatedPointsReward:ft,FixedRatePointsReward:vt};function He(i){return new Pt[i.type](i)}class ht{constructor(t,n,s,g){F(this,"_name");F(this,"_description");F(this,"_rewards");F(this,"_condition");if(this._name=t,this._description=n,this._condition=s,g.length===0)throw new Error(`Plan "${t??"unknown"}" must have at least one reward rule.`);this._rewards=g}get name(){return this._name}get description(){return this._description}get storeList(){return Me(this._rewards.flatMap(t=>[...t.stores,...t.storeBlackList]))}checkPlanIsVisible(t){return this._condition===null||!!(t!=null&&t.includes(this._condition))}getApplicableReward({transactionStore:t=null,acceptedPayments:n=[],transactionAttributesType:s,currentConditions:g=null}){return this._condition!==null&&!(g!=null&&g.includes(this._condition))?null:this._rewards.find(({stores:d,payments:u,transactionType:r,paymentBlackList:y,storeBlackList:h,condition:a})=>{const p=t===null||d.size===0||d.has(t),B=t===null||h.size===0||!h.has(t),D=n.length===0||u.size===0||n.some($=>u.has($)),J=n.length===0||y.size===0||n.some($=>!y.has($)),e=r===null||s===r,o=a===null||!!(g!=null&&g.includes(a));return p&&B&&D&&J&&e&&o})??null}getRewardMiles({transactionStore:t,acceptedPayments:n,amount:s,transactionAttributesType:g,currentConditions:d}){const u=this.getApplicableReward({acceptedPayments:n,transactionStore:t,transactionAttributesType:g,currentConditions:d});if(u===null)return null;const r=n===void 0?[...u.payments.values()]:n.filter(y=>u.payments.has(y));return{rewardName:u.rewardStrategy.name,rewardPoints:u.rewardStrategy.calculatePoints(s),payments:r.filter(y=>!u.paymentBlackList.has(y)),rewardStrategy:u.rewardStrategy}}toJSON(){return{name:this._name,description:this._description,condition:this._condition,rewards:this._rewards.map(({rewardStrategy:t,stores:n,payments:s,transactionType:g,paymentBlackList:d,storeBlackList:u,condition:r})=>({rewardStrategy:t.toJSON(),stores:[...n],storeBlackList:[...u],payments:[...s],paymentBlackList:[...d],transactionType:g,condition:r}))}}}const ze=["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"];class _t{constructor({name:t,description:n,plans:s,storeBlackList:g,paymentBlackList:d,cardUrl:u,updateAt:r,pointExchanges:y,selectedPlanId:h,selectedPointExchangeId:a}){F(this,"_selectedPlanId");F(this,"_selectedPointExchangeId");F(this,"_name");F(this,"_description");F(this,"_plans");F(this,"_cardUrl");F(this,"_storeBlackList");F(this,"_paymentBlackList");F(this,"_updateAt");F(this,"_pointExchanges");this._name=t,this._description=n,this._plans=s,this._cardUrl=u,this._storeBlackList=g,this._paymentBlackList=d,this._updateAt=r,this._pointExchanges=y;const p=h??this._plans.keys().next().value??null;if(p===null)throw new Error(`this plan id ${p} not found`);this._selectedPlanId=p;const B=a??this._pointExchanges.keys().next().value??null;if(B===null)throw new Error(`this point exchange id ${B} not found`);this._selectedPointExchangeId=B}get name(){return this._name}get description(){return this._description}get selectedPlanId(){return this._selectedPlanId}get selectedPlan(){return this._getPlan(this._selectedPlanId)}get selectedPointExchangeId(){return this._selectedPointExchangeId}get selectedPointExchange(){return this._getPointExchangeStrategy(this._selectedPointExchangeId)}get selectablePlan(){return[...this._plans.entries()].map(([t,{name:n,description:s}])=>({id:t,name:n,description:s}))}get selectablePointExchange(){return[...this._pointExchanges.entries()].map(([t,{name:n,description:s}])=>({id:t,name:n,description:s}))}get storeList(){return Me([...[...this._plans.values()].flatMap(t=>t.storeList),...this._storeBlackList])}get cardUrl(){return this._cardUrl}_getPlan(t){const n=this._plans.get(t);if(n===void 0)throw new Error(`plan id ${t} not found. Available plans: ${[...this._plans.keys()].join(", ")}`);return n}_getPointExchangeStrategy(t){const n=this._pointExchanges.get(t);if(n===void 0)throw new Error(`pointExchangeStrategy id ${t} not found. Available pointExchanges: ${[...this._plans.keys()].join(", ")}`);return n}_rewardMilesWithPlan(t,n,s){var a;const g=this._getPlan(t),d=this._getPointExchangeStrategy(n),u={planId:t,planName:g.name,rewardName:null,rewardPoints:0,payments:[],rewardStrategy:null,pointExchangeStrategy:d,pointExchangeName:d.name,airlineCode:d.airlineCode,miles:0},r=s.transactionStore!==void 0&&this._storeBlackList.has(s.transactionStore),y=(a=s.acceptedPayments)==null?void 0:a.some(p=>this._paymentBlackList.has(p));if(r||y)return u;const h=g.getRewardMiles(s);return h===null?u:{planId:t,planName:g.name,pointExchangeStrategy:d,pointExchangeName:d.name,miles:d.calculateMiles(h.rewardPoints),airlineCode:d.airlineCode,...h}}getRewardInfos(t,{onlyCurrentPlan:n=!1,onlyCurrentExchangeStrategy:s=!1}={}){const g=n?[[this._selectedPlanId,this.selectedPlan]]:[...this._plans.entries()],d=s?[this._selectedPointExchangeId]:[...this._pointExchanges.keys()],u=[];for(const[r,y]of g)if(y.checkPlanIsVisible(t.currentConditions??null))for(const a of d){const p=this._rewardMilesWithPlan(r,a,t);u.push(p)}return u}toJSON(){return{name:this._name,description:this._description,cardUrl:this._cardUrl,storeBlackList:[...this._storeBlackList],paymentBlackList:[...this._paymentBlackList],selectedPlanId:this._selectedPlanId,plans:[...this._plans].map(([t,n])=>({id:t,config:n.toJSON()})),updateAt:this._updateAt.toISOString(),selectedPointExchangeId:this._selectedPointExchangeId,pointExchanges:[...this._pointExchanges].map(([t,n])=>({id:t,config:n.toJSON()}))}}}const wt=re(2);class xt{constructor({name:t,airlineCode:n,pointsPerMile:s,milesPerUnit:g}){F(this,"_name");F(this,"_airlineCode");F(this,"_pointsPerMile");F(this,"_milesPerUnit");this._name=t,this._airlineCode=n,this._pointsPerMile=s,this._milesPerUnit=g}get name(){return this._name}get description(){return`${this._pointsPerMile}點可以交換${this._milesPerUnit}哩程`}get airlineCode(){return this._airlineCode}get pointsPerMile(){return this._pointsPerMile}get milesPerUnit(){return this._milesPerUnit}calculateMiles(t){return wt(t*this._milesPerUnit/this._pointsPerMile)}toJSON(){return{name:this._name,airlineCode:this._airlineCode,pointsPerMile:this._pointsPerMile,milesPerUnit:this._milesPerUnit}}}function Fe({name:i,description:t,storeBlackList:n,paymentBlackList:s,cardUrl:g,plans:d,updateAt:u,pointExchanges:r,selectedPlanId:y,selectedPointExchangeId:h}){const a=new Map(d.map(({id:p,config:{name:B,description:D,condition:J,rewards:e}})=>[p,new ht(B,D??null,J??null,e.map(({stores:o,payments:$,transactionType:w,rewardStrategy:M,paymentBlackList:f,storeBlackList:A,condition:U})=>({rewardStrategy:He(M),stores:new Set(o),storeBlackList:new Set(A),payments:new Set($),paymentBlackList:new Set(f),transactionType:w??null,condition:U??null})))]));return new _t({name:i,description:t??null,plans:a,storeBlackList:new Set(n),paymentBlackList:new Set(s),cardUrl:g,updateAt:new Date(u),selectedPlanId:y??null,selectedPointExchangeId:h??null,pointExchanges:new Map(r.map(({id:p,config:B})=>[p,new xt(B)]))})}const At=(()=>{const i=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),t=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),n=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),s=e=>typeof e.name=="string"&&(e.description===null||e.description===void 0||typeof e.description=="string")&&(e.cardUrl===null||typeof e.cardUrl=="string")&&(e.storeBlackList===void 0||Array.isArray(e.storeBlackList)&&e.storeBlackList.every(o=>typeof o=="string"))&&(e.paymentBlackList===void 0||Array.isArray(e.paymentBlackList)&&e.paymentBlackList.every(o=>i.has(o)===!0))&&(e.selectedPlanId===void 0||typeof e.selectedPlanId=="string"&&RegExp(/(.*)\x2d(.*)\x2d(.*)\x2d(.*)\x2d(.*)/).test(e.selectedPlanId))&&Array.isArray(e.plans)&&e.plans.every(o=>typeof o=="object"&&o!==null&&g(o))&&typeof e.updateAt=="string"&&RegExp(/^[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\x2d[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\x2d[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?T[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?:[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?:[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\.[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?Z$/).test(e.updateAt)&&(e.selectedPointExchangeId===void 0||typeof e.selectedPointExchangeId=="string"&&RegExp(/(.*)\x2d(.*)\x2d(.*)\x2d(.*)\x2d(.*)/).test(e.selectedPointExchangeId))&&Array.isArray(e.pointExchanges)&&e.pointExchanges.every(o=>typeof o=="object"&&o!==null&&B(o)),g=e=>typeof e.id=="string"&&RegExp(/(.*)\x2d(.*)\x2d(.*)\x2d(.*)\x2d(.*)/).test(e.id)&&typeof e.config=="object"&&e.config!==null&&d(e.config),d=e=>(e.name===null||typeof e.name=="string")&&(e.description===null||e.description===void 0||typeof e.description=="string")&&Array.isArray(e.rewards)&&e.rewards.every(o=>typeof o=="object"&&o!==null&&u(o))&&(e.condition===null||e.condition===void 0||e.condition==="Birthday"),u=e=>typeof e.rewardStrategy=="object"&&e.rewardStrategy!==null&&J(e.rewardStrategy)&&(e.transactionType===null||e.transactionType===void 0||e.transactionType==="Domestic"||e.transactionType==="Foreign")&&(e.stores===void 0||Array.isArray(e.stores)&&e.stores.every(o=>typeof o=="string"))&&(e.storeBlackList===void 0||Array.isArray(e.storeBlackList)&&e.storeBlackList.every(o=>typeof o=="string"))&&(e.payments===void 0||Array.isArray(e.payments)&&e.payments.every(o=>t.has(o)===!0))&&(e.paymentBlackList===void 0||Array.isArray(e.paymentBlackList)&&e.paymentBlackList.every(o=>n.has(o)===!0))&&(e.condition===null||e.condition===void 0||e.condition==="Birthday"),r=e=>Array.isArray(e.pointBackRates)&&e.pointBackRates.every(o=>typeof o=="object"&&o!==null&&y(o))&&(e.name===null||typeof e.name=="string")&&e.type==="RoundedPercentageReward",y=e=>typeof e.rate=="number"&&(e.limit===void 0||typeof e.limit=="number"),h=e=>Array.isArray(e.pointBackRates)&&e.pointBackRates.every(o=>typeof o=="object"&&o!==null&&y(o))&&(e.name===null||typeof e.name=="string")&&e.type==="TruncatedPercentageReward",a=e=>typeof e.spendingPerPoint=="number"&&(e.name===null||typeof e.name=="string")&&e.type==="AccumulatedPointsReward",p=e=>typeof e.spendingPerPoint=="number"&&(e.name===null||typeof e.name=="string")&&e.type==="FixedRatePointsReward",B=e=>typeof e.id=="string"&&RegExp(/(.*)\x2d(.*)\x2d(.*)\x2d(.*)\x2d(.*)/).test(e.id)&&typeof e.config=="object"&&e.config!==null&&D(e.config),D=e=>typeof e.name=="string"&&typeof e.airlineCode=="string"&&typeof e.pointsPerMile=="number"&&typeof e.milesPerUnit=="number",J=e=>e.type==="TruncatedPercentageReward"?h(e):e.type==="RoundedPercentageReward"?r(e):e.type==="FixedRatePointsReward"?p(e):e.type==="AccumulatedPointsReward"?a(e):!1;return e=>typeof e=="object"&&e!==null&&s(e)})(),bt=(()=>{const i=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),t=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),n=a=>(a.name===null||typeof a.name=="string")&&(a.description===null||a.description===void 0||typeof a.description=="string")&&Array.isArray(a.rewards)&&a.rewards.every(p=>typeof p=="object"&&p!==null&&s(p))&&(a.condition===null||a.condition===void 0||a.condition==="Birthday"),s=a=>typeof a.rewardStrategy=="object"&&a.rewardStrategy!==null&&h(a.rewardStrategy)&&(a.transactionType===null||a.transactionType===void 0||a.transactionType==="Domestic"||a.transactionType==="Foreign")&&(a.stores===void 0||Array.isArray(a.stores)&&a.stores.every(p=>typeof p=="string"))&&(a.storeBlackList===void 0||Array.isArray(a.storeBlackList)&&a.storeBlackList.every(p=>typeof p=="string"))&&(a.payments===void 0||Array.isArray(a.payments)&&a.payments.every(p=>i.has(p)===!0))&&(a.paymentBlackList===void 0||Array.isArray(a.paymentBlackList)&&a.paymentBlackList.every(p=>t.has(p)===!0))&&(a.condition===null||a.condition===void 0||a.condition==="Birthday"),g=a=>Array.isArray(a.pointBackRates)&&a.pointBackRates.every(p=>typeof p=="object"&&p!==null&&d(p))&&(a.name===null||typeof a.name=="string")&&a.type==="RoundedPercentageReward",d=a=>typeof a.rate=="number"&&(a.limit===void 0||typeof a.limit=="number"),u=a=>Array.isArray(a.pointBackRates)&&a.pointBackRates.every(p=>typeof p=="object"&&p!==null&&d(p))&&(a.name===null||typeof a.name=="string")&&a.type==="TruncatedPercentageReward",r=a=>typeof a.spendingPerPoint=="number"&&(a.name===null||typeof a.name=="string")&&a.type==="AccumulatedPointsReward",y=a=>typeof a.spendingPerPoint=="number"&&(a.name===null||typeof a.name=="string")&&a.type==="FixedRatePointsReward",h=a=>a.type==="TruncatedPercentageReward"?u(a):a.type==="RoundedPercentageReward"?g(a):a.type==="FixedRatePointsReward"?y(a):a.type==="AccumulatedPointsReward"?r(a):!1;return a=>typeof a=="object"&&a!==null&&n(a)})(),kt=(()=>{const i=t=>typeof t.name=="string"&&typeof t.airlineCode=="string"&&typeof t.pointsPerMile=="number"&&typeof t.milesPerUnit=="number";return t=>typeof t=="object"&&t!==null&&i(t)})(),me=Pe("2024/12/31"),oe=Pe("2025/6/30","2025/1/1");function Pe(i,t){return t===void 0?`權益 ~${ae(i,"yyyy/M/d")}`:ae(t,"yyyy")===ae(i,"yyyy")?`權益 ${ae(t,"yyyy/M/d")}~${ae(i,"M/d")}`:`權益 ${ae(t,"yyyy/M/d")}~${ae(i,"yyyy/M/d")}`}const he=["分期付款"],_e=[],we=["信用卡","Apple Pay","Samsung Pay","Google Pay","Fitbit Pay","Garmin Pay","Hami Pay"];function xe(i){const t={rewardStrategy:{type:"RoundedPercentageReward",name:null,pointBackRates:[{rate:.3}]}};return[{id:O(),config:{name:"集精選",description:"量販超市, 指定加油, 指定超商, 生活家居",rewards:[{rewardStrategy:{type:"RoundedPercentageReward",name:null,pointBackRates:[{rate:2}]},stores:["家樂福","LOPIA台灣","全聯福利中心","台灣中油-直營","7-ELEVEN","全家便利商店","IKEA"],payments:[...we,"PX Pay","My FamiPay","OPEN錢包"]},t]}},{id:O(),config:{name:"玩數位",description:"數位/串流平台, 網購平台, 國際電商, 辦公神器",rewards:[{rewardStrategy:{type:"RoundedPercentageReward",name:null,pointBackRates:[{rate:i}]},stores:["App Store","Apple Music","iCloud","Apple TV+","Apple Arcade","Apple One","iTunes","Google Play","Disney+","Netflix","Spotify","KKBOX","YouTube Premium","Max","蝦皮購物","momo購物網","PChome 24h購物(不含儲值及電子票券)","小樹購","Coupang 酷澎(台灣)","淘寶/天貓","ChatGPT","Dropbox","Surfshark","NordVPN","McAfee","Microsoft","LinkedIn","Whoscall","Zoom"],paymentBlackList:["Line Pay","街口支付"]},{...t,storeBlackList:["全聯福利中心"]}]}},{id:O(),config:{name:"樂饗購",description:"國內指定百貨, 國內外送平台, 國內餐飲, 國內藥妝",rewards:[{rewardStrategy:{type:"RoundedPercentageReward",name:null,pointBackRates:[{rate:i}]},stores:["遠東SOGO百貨","遠東Garden City","太平洋百貨","新光三越","SKM Park","BELLAVITA","微風廣場","遠東百貨","Big City遠東巨城購物中心","誠品生活","環球購物中心","CITYLINK","統一時代","台北101","ATT 4 FUN","明曜百貨","京站","美麗華","大葉高島屋","比漾廣場","大江國際購物中心","中友百貨","廣三SOGO","Tiger City","勤美誠品綠園道","大魯閣新時代","耐斯廣場","南紡購物中心","夢時代","漢神百貨","漢神巨蛋","MITSUI OUTLET PARK 林口","MITSUI OUTLET PARK 台中港","MITSUI OUTLET PARK 台南","Mitsui Shopping Park LaLaport 台中","義大世界購物廣場","華泰名品城","義享天地","麗寶OUTLET Mall","秀泰生活","台茂購物中心","新月廣場","三創生活","宏匯廣場","NOKE忠泰樂生活","Uber Eats","foodpanda","foodomo","國內餐飲(不含餐券)","麥當勞","康是美","屈臣氏"],payments:we},{...t,storeBlackList:["全聯福利中心"]}]}},{id:O(),config:{name:"趣旅行",description:"指定海外消費, 日本指定遊樂園, 國內外交通, 指定航空公司, 指定飯店住宿, 旅遊/訂房平台, 指定旅行社",rewards:[{rewardStrategy:{type:"RoundedPercentageReward",name:null,pointBackRates:[{rate:i}]},stores:["海外實體消費","東京迪士尼樂園","東京華納兄弟哈利波特影城","大阪環球影城(USJ)","Apple Wallet SUICA","Apple Wallet PASMO","Apple Wallet ICOCA","Uber","Grab","台灣高鐵","yoxi","台灣大車隊","iRent","和運租車","格上租車","中華航空","長榮航空","星宇航空","台灣虎航","國泰航空","樂桃航空","阿聯酋航空","酷航","捷星航空","日本航空","亞洲航空","聯合航空","ANA全日空","新加坡航空","越捷航空","大韓航空","達美航空","土耳其航空","卡達航空","法國航空","國內飯店住宿","星野集團","全球迪士尼飯店","東橫INN","KKday","Agoda","Klook","Airbnb","Hotels.com","Expedia","Booking.com","Trip.com","AsiaYo","ezTravel易遊網","雄獅旅遊","可樂旅遊","東南旅遊","五福旅遊","燦星旅遊","山富旅遊","長汎假期","鳳凰旅行社","Ezfly易飛網","理想旅遊","永利旅行社","三賀旅行社"],payments:we},{...t,storeBlackList:["全聯福利中心"]}]}},{id:O(),config:{name:"來支付",description:"LINE Pay消費",rewards:[{rewardStrategy:{type:"RoundedPercentageReward",name:null,pointBackRates:[{rate:2}]},payments:["Line Pay"]},{...t,storeBlackList:["全聯福利中心"]}]}},{id:O(),config:{name:"慶生月",description:"指定百貨/休閒娛樂/國內外送平台 3.5%, 國外精選遊樂園實體消費/國內人氣樂園/指定蛋糕甜點店/指定咖啡廳/指定國內餐廳/KTV/派對/電玩 10%",condition:"Birthday",rewards:[{rewardStrategy:{type:"RoundedPercentageReward",name:null,pointBackRates:[{rate:10}]},stores:["東京迪士尼樂園","大阪環球影城(USJ)","名古屋樂高樂園","紅葉蛋糕官方網站","法朋烘焙甜點坊","興波咖啡 華山旗艦店","海底撈火鍋","輕井澤鍋物","老四川巴蜀麻辣燙","二本松涮涮屋","橋山.壽喜燒","Umai屋馬燒肉","老井極上燒肉","燒肉中山(台中大墩)","藏壽司台灣","貳樓","膳馨民間創作料理","馨苑小料理","雅室牛排 仁愛圓環店","ABV餐飲集團","WAT","臺虎精釀(信義 | 西門 | 臺中 | 啜飲室大安)","BAR Bodega","BAR MED","JiN Her 今鶴","錢櫃KTV","好樂迪KTV","星聚點KTV","享溫馨KTV","Nintendo","巴哈姆特動畫瘋","閃動格子CyberCube"]},{rewardStrategy:{type:"RoundedPercentageReward",name:null,pointBackRates:[{rate:3.5}]},stores:["新光三越","Uber Eats (不含 Uber One)","Agoda","Trip.com","Klook","國內飯店住宿","星野集團","全球迪士尼飯店","東橫INN"]},{...t,storeBlackList:["全聯福利中心"]}]}}]}const Ae=[{id:O(),config:{name:"長榮航空哩程",airlineCode:"EVA",pointsPerMile:360,milesPerUnit:1e3}},{id:O(),config:{name:"長榮航空哩程 + 長榮世界卡",airlineCode:"EVA",pointsPerMile:300,milesPerUnit:1e3}}],Ye=[{name:"Cube 卡",description:`Cube 卡 (Level 1) 回饋方案 (${oe})`,cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/cube/",storeBlackList:he,paymentBlackList:_e,updateAt:"2024-12-01T00:00:00.000Z",plans:xe(2),pointExchanges:Ae},{name:"Cube 卡",description:`Cube 卡 (Level 2) 回饋方案 (${oe})`,cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/cube/",storeBlackList:he,paymentBlackList:_e,updateAt:"2024-12-01T00:00:00.000Z",plans:xe(3),pointExchanges:Ae},{name:"Cube 卡",description:`Cube 卡 (Level 3) 回饋方案 (${oe})`,cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/cube/",storeBlackList:he,paymentBlackList:_e,updateAt:"2024-12-01T00:00:00.000Z",plans:xe(3.3),pointExchanges:Ae}],Ct=Ye[1];function be(i){return[{id:O(),config:{name:null,description:"部分回饋需要另外登錄",rewards:[{rewardStrategy:{type:"FixedRatePointsReward",name:`Expedia專屬網頁線上訂房 ${Pe("2025/12/31")}`,spendingPerPoint:8},stores:["Expedia"],payments:["Apple Pay","Samsung Pay","Google Pay","Fitbit Pay","Garmin Pay","Hami Pay"]},{rewardStrategy:{type:"FixedRatePointsReward",name:"長榮官網購票/機上免稅品",spendingPerPoint:10},stores:["長榮機上免稅品","長榮官網購票"]},{rewardStrategy:{type:"FixedRatePointsReward",name:"海外消費",spendingPerPoint:10},transactionType:"Foreign"},{rewardStrategy:{type:"FixedRatePointsReward",name:"國內旅行社 (需登錄) 銀行並未公告符合商家",spendingPerPoint:10},transactionType:"Domestic",stores:["雄獅旅遊","可樂旅遊","東南旅遊","五福旅遊","燦星旅遊","山富旅遊","長汎假期","鳳凰旅行社","Ezfly易飛網","理想旅遊","永利旅行社","三賀旅行社"]},{rewardStrategy:{type:"FixedRatePointsReward",name:"國外自由行、團體旅遊 (需登錄) 銀行並未公告符合商家",spendingPerPoint:10},transactionType:"Foreign"},{rewardStrategy:{type:"FixedRatePointsReward",name:"一般消費",spendingPerPoint:i}}]}}]}const ue=[{id:O(),config:{name:"長榮航空哩程 (每1000哩為單位自動轉換至哩程帳戶)",airlineCode:"EVA",pointsPerMile:1e3,milesPerUnit:1e3}}],pe=Pe("2025/3/31","2025/1/1"),Xe=[{name:"長榮極致無限卡",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/eva/",description:pe,updateAt:"2024-12-29T00:00:00.000Z",plans:be(20),pointExchanges:ue},{name:"長榮無限卡",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/eva/",description:pe,updateAt:"2024-12-29T00:00:00.000Z",plans:be(22),pointExchanges:ue},{name:"長榮極致御璽卡",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/eva/",description:pe,updateAt:"2024-12-29T00:00:00.000Z",plans:be(30),pointExchanges:ue},{name:"長榮御璽卡",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/eva/",description:pe,updateAt:"2024-12-29T00:00:00.000Z",plans:[{id:O(),config:{name:null,description:null,rewards:[{rewardStrategy:{type:"FixedRatePointsReward",name:"一般消費",spendingPerPoint:30}}]}}],pointExchanges:ue}],St=Xe[1],ye=["政府稅款","公共事業代扣繳","交通違規罰鍰","分期付款","全聯福利中心","7-ELEVEN","全家便利商店"],ge=[],Rt=[{name:"星宇世界卡",description:me,cardUrl:"https://www.esunbank.com/zh-tw/personal/credit-card/intro/co-branded-card/starlux-card",storeBlackList:ye,paymentBlackList:ge,pointExchanges:[{id:O(),config:{name:"星宇航空哩程",airlineCode:"SJX",pointsPerMile:1,milesPerUnit:1}}],plans:[{id:O(),config:{name:null,rewards:[{rewardStrategy:{type:"FixedRatePointsReward",name:"國外消費 (生日兩倍)",spendingPerPoint:5},transactionType:"Foreign",condition:"Birthday"},{rewardStrategy:{type:"FixedRatePointsReward",name:"國外消費",spendingPerPoint:10},transactionType:"Foreign"},{rewardStrategy:{type:"FixedRatePointsReward",name:"國內消費",spendingPerPoint:20},transactionType:"Domestic"}]}}],updateAt:new Date("2024/12/01 00:00:00").toISOString()},{name:"星宇商務鈦金卡",description:me,cardUrl:"https://www.esunbank.com/zh-tw/personal/credit-card/intro/co-branded-card/starlux-card",storeBlackList:ye,paymentBlackList:ge,pointExchanges:[{id:O(),config:{name:"星宇航空哩程",airlineCode:"SJX",pointsPerMile:1,milesPerUnit:1}}],plans:[{id:O(),config:{name:null,rewards:[{rewardStrategy:{type:"FixedRatePointsReward",name:"國外消費",spendingPerPoint:7.5},transactionType:"Foreign",condition:"Birthday"},{rewardStrategy:{type:"FixedRatePointsReward",name:"國外消費",spendingPerPoint:15},transactionType:"Foreign"},{rewardStrategy:{type:"FixedRatePointsReward",name:"國內消費",spendingPerPoint:25},transactionType:"Domestic"}]}}],updateAt:new Date("2024/12/01 00:00:00").toISOString()},{name:"星宇鈦金卡",description:me,cardUrl:"https://www.esunbank.com/zh-tw/personal/credit-card/intro/co-branded-card/starlux-card",storeBlackList:ye,paymentBlackList:ge,pointExchanges:[{id:O(),config:{name:"星宇航空哩程",airlineCode:"SJX",pointsPerMile:1,milesPerUnit:1}}],plans:[{id:O(),config:{name:null,rewards:[{rewardStrategy:{type:"FixedRatePointsReward",name:"國外消費",spendingPerPoint:20},transactionType:"Foreign"},{rewardStrategy:{type:"FixedRatePointsReward",name:"國內消費",spendingPerPoint:28},transactionType:"Domestic"}]}}],updateAt:new Date("2024/12/01 00:00:00").toISOString()}],ke=["台灣中油-直營","台灣大車隊","台鐵","台灣高鐵","UBER","Yoxi","LINEGO","新光三越","遠東百貨","遠東SOGO百貨","誠品生活","漢神百貨","微風廣場","微風信義","微風南京","微風南山","微風台北車站","環球購物中心","台北101","華泰名品城","MITSUI OUTLET PARK 林口","MITSUI OUTLET PARK 台中港","MITSUI OUTLET PARK 台南","Big City遠東巨城購物中心","昇恆昌","夢時代購物中心","京站","美麗華","南紡購物中心","秀泰生活","台茂購物中心","Mitsui Shopping Park LaLaport 台中","統領廣場","采盟","Uber Eats","foodpanda","星巴克","EZTABLE","王品瘋美食","摩斯漢堡","foodomo","漢來美食","饗Joy","饗食天堂","果然匯","小福利","饗饗","旭集","開飯","饗泰多","真珠","瓦城","非常泰","大心","1010","時時香","BOBO","乾杯集團","路易莎","中華航空","長榮航空","日本航空","台灣虎航","樂桃航空","酷航","立榮航空","華信航空","Agoda","booking.com","Hotels.com","AsiaYo","Expedia","KKday","Klook","雄獅旅遊","可樂旅遊","東南旅行社","Apple直營店","小米台灣","全國電子","燦坤","迪卡儂","屈臣氏","康是美","IKEA","特力屋","特力和樂","UNIQLO","NET","大樹藥局","丁丁藥妝","momo購物網","蝦皮購物","淘寶網","Coupang酷澎","東森購物","雅虎奇摩購物中心","博客來","玉山Wallet愛心捐款-單筆捐款","玉山Wallet愛心捐款-定期定額","特斯拉","Gogoro電池資費","YouBike 2.0","日本實體店","韓國實體店","泰國實體店","越南實體店","新加坡實體店","中國實體店","香港實體店","澳門實體店","美國實體店","英國實體店","法國實體店","德國實體店","義大利實體店"],Ce={rewardStrategy:{type:"TruncatedPercentageReward",name:null,pointBackRates:[{rate:.3},{rate:.7}]}},We=[{name:"UniCard 卡",description:me,cardUrl:"https://www.esunbank.com/zh-tw/personal/credit-card/intro/bank-card/unicard",storeBlackList:ye,paymentBlackList:ge,pointExchanges:[{id:O(),config:{name:"長榮航空哩程",airlineCode:"EVA",pointsPerMile:200,milesPerUnit:300}}],plans:[{id:O(),config:{name:"任意選 (需要切換店家)",description:"玉山Wallet設定8家特店",rewards:[{rewardStrategy:{type:"TruncatedPercentageReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:2.5,limit:500}]},stores:ke,payments:["信用卡","Apple Pay","Samsung Pay","Google Pay"]},{rewardStrategy:{type:"TruncatedPercentageReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:2.5,limit:500}]},payments:["Line Pay","街口支付","悠遊付","橘子支付","icash pay"]},Ce]}},{id:O(),config:{name:"簡單選",rewards:[{rewardStrategy:{type:"TruncatedPercentageReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:2,limit:500}]},stores:ke,payments:["信用卡","Apple Pay","Samsung Pay","Google Pay"]},{rewardStrategy:{type:"TruncatedPercentageReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:2,limit:500}]},payments:["Line Pay","街口支付","悠遊付","橘子支付","icash pay"]},Ce]}},{id:O(),config:{name:"UP選",description:"完成指定任務或99點玉山e point訂閱",rewards:[{rewardStrategy:{type:"TruncatedPercentageReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:3.5,limit:2e3}]},stores:ke,payments:["信用卡","Apple Pay","Samsung Pay","Google Pay"]},{rewardStrategy:{type:"TruncatedPercentageReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:3.5,limit:2e3}]},payments:["Line Pay","街口支付","悠遊付","橘子支付","icash pay"]},Ce]}}],updateAt:new Date("2024/12/01 00:00:00").toISOString()}],Et=We[0],Se=["政府稅款","公共事業代扣繳","交通違規罰鍰","分期付款"],Re=["全盈+PAY","icash pay","OPEN錢包","My FamiPay"],qe=[{name:"旅人無限卡",description:oe,cardUrl:"https://www.hsbc.com.tw/credit-cards/products/travel/visa-infinite/",storeBlackList:Se,paymentBlackList:Re,pointExchanges:[{id:O(),config:{name:"長榮航空哩程",airlineCode:"EVA",pointsPerMile:1,milesPerUnit:1}}],plans:[{id:O(),config:{name:null,rewards:[{rewardStrategy:{type:"AccumulatedPointsReward",name:"國外消費",spendingPerPoint:10},transactionType:"Foreign"},{rewardStrategy:{type:"AccumulatedPointsReward",name:"國內消費",spendingPerPoint:18},transactionType:"Domestic"}]}}],updateAt:new Date("2024/12/01 00:00:00").toISOString()},{name:"旅人御璽卡",description:oe,cardUrl:"https://www.hsbc.com.tw/credit-cards/products/travel/visa-signature/",storeBlackList:Se,paymentBlackList:Re,pointExchanges:[{id:O(),config:{name:"長榮航空哩程",airlineCode:"EVA",pointsPerMile:1,milesPerUnit:1}}],plans:[{id:O(),config:{name:null,rewards:[{rewardStrategy:{type:"AccumulatedPointsReward",name:"國外消費",spendingPerPoint:15},transactionType:"Foreign"},{rewardStrategy:{type:"AccumulatedPointsReward",name:"國內消費",spendingPerPoint:18},transactionType:"Domestic"}]}}],updateAt:new Date("2024/12/01 00:00:00").toISOString()},{name:"旅人輕旅卡",description:oe,cardUrl:"https://www.hsbc.com.tw/credit-cards/products/travel/visa-light/",storeBlackList:Se,paymentBlackList:Re,pointExchanges:[{id:O(),config:{name:"長榮航空哩程",airlineCode:"EVA",pointsPerMile:1,milesPerUnit:1}}],plans:[{id:O(),config:{name:null,rewards:[{rewardStrategy:{type:"AccumulatedPointsReward",name:"國外消費",spendingPerPoint:20},transactionType:"Foreign"},{rewardStrategy:{type:"AccumulatedPointsReward",name:"國內消費",spendingPerPoint:20},transactionType:"Domestic"}]}}],updateAt:new Date("2024/12/01 00:00:00").toISOString()}],Bt=qe[2],Tt=[St,Ct,Bt,Et],Lt=[...Xe,...Ye,...qe,...Rt,...We],Ve=i=>Array.isArray(i)&&i.every(t=>Array.isArray(t)&&t.length===2&&typeof t[0]=="string"&&Array.isArray(t[1])&&t[1].every(n=>typeof n=="string")),Ze=[["7-ELEVEN",["7-11","Seven Eleven","統一超商","小7"]],["ANA全日空",["ANA","全日空","All Nippon Airways","NH"]],["ATT 4 FUN",["ATT4FUN","ATT信義"]],["App Store",["蘋果應用商店"]],["Apple Arcade",["蘋果遊戲訂閱服務"]],["Apple Music",["蘋果音樂","Apple音樂"]],["Apple One",["蘋果One訂閱"]],["Apple TV+",["Apple TV Plus"]],["Apple Wallet ICOCA",["ICOCA電子票","Apple錢包ICOCA"]],["Apple Wallet PASMO",["PASMO電子票","Apple錢包PASMO"]],["Apple Wallet SUICA",["SUICA電子票","Apple錢包SUICA"]],["CITYLINK",["City Link"]],["Disney+",["Disney Plus","迪士尼+"]],["Google Play",["Google應用商店"]],["Grab",["Grab Taxi","Grab叫車"]],["MITSUI OUTLET PARK 台中港",["三井台中港","三井OUTLET台中"]],["MITSUI OUTLET PARK 台南",["三井台南","三井OUTLET台南"]],["MITSUI OUTLET PARK 林口",["三井林口","三井OUTLET林口"]],["Mitsui Shopping Park LaLaport 台中",["LaLaport台中","三井LaLaport台中"]],["Netflix",["網飛"]],["Nintendo",["任天堂","Switch","老任"]],["PChome 24h購物(不含儲值及電子票券)",["PChome","PChome購物"]],["Tiger City",["老虎城","Tiger City購物中心"]],["Trip.com",["攜程"]],["Uber Eats (不含 Uber One)",["優步外送"]],["foodpanda",["熊貓外送","Food Panda"]],["iCloud",["蘋果雲端","iCloud雲端"]],["iRent",["i Rent"]],["iTunes",["蘋果iTunes"]],["中友百貨",["中友"]],["中華航空",["China Airlines","CAL","CI","華航"]],["亞洲航空",["AirAsia","亞航","AXM","AK"]],["京站",["Q Square","京站商場"]],["全家便利商店",["FamilyMart","全家"]],["全球迪士尼飯店",["Disney Hotels"]],["全聯福利中心",["PX Mart"]],["南紡購物中心",["Tainan Spinnery Mall","南紡"]],["博客來",["Books.com.tw"]],["卡達航空",["Qatar Airways","卡航","QTR","QR"]],["可樂旅遊",["Cola Travel","可樂旅行社"]],["台北101",["Taipei 101","101大樓"]],["台灣中油-直營",["中油直營","直營中油"]],["台灣大車隊",["Taiwan Taxi","大車隊"]],["台灣虎航",["Tigerair Taiwan","台虎","TWA","IT"]],["台灣高鐵",["Taiwan High Speed Rail"]],["台茂購物中心",["TaiMall"]],["吉卜力公園",["Ghibli Park"]],["國泰航空",["Cathay Pacific","國泰","CPA","CX","Cathay Pacific Airways"]],["土耳其航空",["Turkish Airlines","土航","THY","TK"]],["夢時代",["Dream Mall"]],["大阪環球影城(USJ)",["Universal Studios Japan"]],["大韓航空",["Korean Air","韓航","KAL","KE"]],["大魯閣新時代",["Taroko Mall","大魯閣"]],["太平洋百貨",["Pacific Department Store","太平洋"]],["好樂迪KTV",["Holiday"]],["家樂福",["Carrefour"]],["屈臣氏",["Watsons"]],["康是美",["Cosmed"]],["捷星航空",["JST","JQ","Jetstar Airways"]],["新加坡航空",["SIA","SQ","Singapore Airlines"]],["日本航空",["JAL","JL","Japan Airlines"]],["星宇航空",["starlux","SJX","JX","STARLUX Airlines"]],["樂桃航空",["APJ","MM","Peach Aviation"]],["法國航空",["AFR","AF","Air France"]],["聯合航空",["UAL","UA","United Airlines"]],["蝦皮購物",["shopee"]],["越捷航空",["VJC","VJ","VietJet Air"]],["達美航空",["DAL","DL","Delta Air Lines"]],["遠東百貨",["遠百"]],["酷航",["SCO","TR","Scoot"]],["長榮航空",["EVA","BR","EVA Airlines","EVA Air"]],["阿聯酋航空",["UAE","EK","Emirates"]],["麥當勞",["McDonald's"]],["IKEA",["宜家家居"]],["星巴克",["starbucks"]]],H=new ut(localStorage,{onlyShowCurrentPlan:i=>typeof i=="boolean",onlyShowCurrentPointExchange:i=>typeof i=="boolean",commonPaymentMethods:(()=>{const i=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]);return t=>Array.isArray(t)&&t.every(n=>i.has(n)===!0)})(),cardConfigs:(()=>{const i=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),t=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),n=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),s=e=>typeof e.name=="string"&&(e.description===null||e.description===void 0||typeof e.description=="string")&&(e.cardUrl===null||typeof e.cardUrl=="string")&&(e.storeBlackList===void 0||Array.isArray(e.storeBlackList)&&e.storeBlackList.every(o=>typeof o=="string"))&&(e.paymentBlackList===void 0||Array.isArray(e.paymentBlackList)&&e.paymentBlackList.every(o=>i.has(o)===!0))&&(e.selectedPlanId===void 0||typeof e.selectedPlanId=="string"&&RegExp(/(.*)\x2d(.*)\x2d(.*)\x2d(.*)\x2d(.*)/).test(e.selectedPlanId))&&Array.isArray(e.plans)&&e.plans.every(o=>typeof o=="object"&&o!==null&&g(o))&&typeof e.updateAt=="string"&&RegExp(/^[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\x2d[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\x2d[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?T[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?:[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?:[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\.[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?Z$/).test(e.updateAt)&&(e.selectedPointExchangeId===void 0||typeof e.selectedPointExchangeId=="string"&&RegExp(/(.*)\x2d(.*)\x2d(.*)\x2d(.*)\x2d(.*)/).test(e.selectedPointExchangeId))&&Array.isArray(e.pointExchanges)&&e.pointExchanges.every(o=>typeof o=="object"&&o!==null&&B(o)),g=e=>typeof e.id=="string"&&RegExp(/(.*)\x2d(.*)\x2d(.*)\x2d(.*)\x2d(.*)/).test(e.id)&&typeof e.config=="object"&&e.config!==null&&d(e.config),d=e=>(e.name===null||typeof e.name=="string")&&(e.description===null||e.description===void 0||typeof e.description=="string")&&Array.isArray(e.rewards)&&e.rewards.every(o=>typeof o=="object"&&o!==null&&u(o))&&(e.condition===null||e.condition===void 0||e.condition==="Birthday"),u=e=>typeof e.rewardStrategy=="object"&&e.rewardStrategy!==null&&J(e.rewardStrategy)&&(e.transactionType===null||e.transactionType===void 0||e.transactionType==="Domestic"||e.transactionType==="Foreign")&&(e.stores===void 0||Array.isArray(e.stores)&&e.stores.every(o=>typeof o=="string"))&&(e.storeBlackList===void 0||Array.isArray(e.storeBlackList)&&e.storeBlackList.every(o=>typeof o=="string"))&&(e.payments===void 0||Array.isArray(e.payments)&&e.payments.every(o=>t.has(o)===!0))&&(e.paymentBlackList===void 0||Array.isArray(e.paymentBlackList)&&e.paymentBlackList.every(o=>n.has(o)===!0))&&(e.condition===null||e.condition===void 0||e.condition==="Birthday"),r=e=>Array.isArray(e.pointBackRates)&&e.pointBackRates.every(o=>typeof o=="object"&&o!==null&&y(o))&&(e.name===null||typeof e.name=="string")&&e.type==="RoundedPercentageReward",y=e=>typeof e.rate=="number"&&(e.limit===void 0||typeof e.limit=="number"),h=e=>Array.isArray(e.pointBackRates)&&e.pointBackRates.every(o=>typeof o=="object"&&o!==null&&y(o))&&(e.name===null||typeof e.name=="string")&&e.type==="TruncatedPercentageReward",a=e=>typeof e.spendingPerPoint=="number"&&(e.name===null||typeof e.name=="string")&&e.type==="AccumulatedPointsReward",p=e=>typeof e.spendingPerPoint=="number"&&(e.name===null||typeof e.name=="string")&&e.type==="FixedRatePointsReward",B=e=>typeof e.id=="string"&&RegExp(/(.*)\x2d(.*)\x2d(.*)\x2d(.*)\x2d(.*)/).test(e.id)&&typeof e.config=="object"&&e.config!==null&&D(e.config),D=e=>typeof e.name=="string"&&typeof e.airlineCode=="string"&&typeof e.pointsPerMile=="number"&&typeof e.milesPerUnit=="number",J=e=>e.type==="TruncatedPercentageReward"?h(e):e.type==="RoundedPercentageReward"?r(e):e.type==="FixedRatePointsReward"?p(e):e.type==="AccumulatedPointsReward"?a(e):!1;return e=>Array.isArray(e)&&e.every(o=>typeof o=="object"&&o!==null&&s(o))})(),conditionTypes:i=>Array.isArray(i)&&i.every(t=>t==="Birthday"),aliasType:i=>i==="default"||i==="additional"||i==="custom",customAliases:Ve},"bestMileageCards"),Qe=["default","additional","custom"],ce=dt("BestMileageCards",()=>{const i=G(null);function t(l){i.value=l}function n(){i.value=null}Ge(()=>{const l=H.get("cardConfigs")??[];h.value=new Map(l.map(b=>[O(),b]))});const s=G(H.get("onlyShowCurrentPlan")??!1);function g(l){H.set("onlyShowCurrentPlan",l),s.value=l}const d=G(H.get("onlyShowCurrentPointExchange")??!1);function u(l){H.set("onlyShowCurrentPointExchange",l),d.value=l}const r=G(H.get("commonPaymentMethods")??["信用卡","Apple Pay","Line Pay","街口支付"]);function y(l){l=[...new Set(l)],H.set("commonPaymentMethods",l),r.value=l}const h=G(new Map),a=q(()=>new Map([...h.value.entries()].map(([l,b])=>[l,Fe(b)]))),p=q(()=>a.value.size===0?Tt.map(l=>Fe(l)):[...a.value.values()]);function B(l,b){h.value.set(l,b),H.set("cardConfigs",[...h.value.values()])}function D(l){h.value.delete(l),H.set("cardConfigs",[...h.value.values()])}function J(l,b){const c=h.value.get(l);if(c===void 0)return!1;try{h.value.set(l,{...c,selectedPlanId:b})}catch{return!1}return H.set("cardConfigs",[...h.value.values()]),!0}function e(l,b){const c=h.value.get(l);if(c===void 0)return!1;try{h.value.set(l,{...c,selectedPointExchangeId:b})}catch{return!1}return H.set("cardConfigs",[...h.value.values()]),!0}const o=q(()=>Je(Me(p.value.flatMap(l=>l.storeList)))),$=G(H.get("conditionTypes")??[]);function w([...l]){$.value=l,H.set("conditionTypes",l)}const M=G(H.get("aliasType")??"default");function f(l){Qe.includes(l)&&(M.value=l,H.set("aliasType",l))}const A=G(new Map(H.get("customAliases")??[]));function U(l,b){b.length===0?A.value.delete(l):A.value.set(l,b),H.set("customAliases",[...A.value])}function R(l){A.value=new Map(l),H.set("customAliases",l)}const C=q(()=>{const l=[];["default","additional"].includes(M.value)&&l.push(...Ze),["additional","custom"].includes(M.value)&&l.push(...A.value);const b=new Map;for(const[c,m]of l){const k=b.get(c)??new Set;for(const T of m)k.add(T);b.set(c,k)}return b});return{dialog:Q(i),openDialog:t,closeDialog:n,onlyShowCurrentPlan:Q(s),updateOnlyShowCurrentPlan:g,onlyShowCurrentPointExchange:Q(d),updateOnlyShowCurrentPointExchange:u,commonPaymentMethods:Q(r),updateCommonPaymentMethods:y,cardConfigs:Q(h),cards:a,showCards:p,updateCardConfig:B,deleteCardConfig:D,updatePlan:J,updatePointExchange:e,storeList:Q(o),conditionTypes:Q($),updateConditionTypes:w,aliasType:Q(M),storeAliases:C,updateAliasType:f,customAliases:Q(A),updateCustomAliases:U,updateAllCustomAliases:R}}),Ut={class:"flex-col gap-24px my-16px"},It={class:"gap-8px flex justify-around"},Vt={class:"flex mx-16px"},$t=Z({__name:"CommonSettings",setup(i){const t=ce(),{onlyShowCurrentPlan:n,onlyShowCurrentPointExchange:s,commonPaymentMethods:g,conditionTypes:d}=de(t);return(u,r)=>{const y=S("v-switch"),h=S("v-label");return _(),L("div",Ut,[P("div",It,[v(y,{"model-value":E(n),"hide-details":"",color:"blue","onUpdate:modelValue":r[0]||(r[0]=a=>a!==null&&E(t).updateOnlyShowCurrentPlan(a))},{label:x(()=>r[3]||(r[3]=[P("p",{class:"text-0.75rem"},"只顯示當前方案",-1)])),_:1},8,["model-value"]),v(y,{"model-value":E(s),"hide-details":"",color:"blue","onUpdate:modelValue":r[1]||(r[1]=a=>a!==null&&E(t).updateOnlyShowCurrentPointExchange(a))},{label:x(()=>r[4]||(r[4]=[P("p",{class:"text-0.75rem"},"只顯示當前交換方式",-1)])),_:1},8,["model-value"])]),v(Ue,{label:"使用中的付款方式","model-value":E(g),list:E(ze),"hide-details":"","show-selected":"","onUpdate:modelValue":E(t).updateCommonPaymentMethods},null,8,["model-value","list","onUpdate:modelValue"]),P("div",null,[v(h,{text:"其他設定"}),P("div",Vt,[v(y,{"model-value":E(d),label:"生日中",value:"Birthday","hide-details":"",color:"blue","onUpdate:modelValue":r[2]||(r[2]=a=>a!==null&&E(t).updateConditionTypes(a))},null,8,["model-value"])])])])}}});function ee(i){if(i===null||typeof i!="object")return i;if(Array.isArray(i))return i.map(n=>ee(n));if(i instanceof Map)return new Map(Array.from(i.entries()).map(([n,s])=>[ee(n),ee(s)]));if(i instanceof Set)return new Set(Array.from(i.values()).map(n=>ee(n)));if(i instanceof Date)return new Date(i.getTime());if(i instanceof RegExp)return new RegExp(i.source,i.flags);const t={};return Object.keys(i).forEach(n=>{t[n]=ee(i[n])}),t}const Mt={class:"flex-col gap-8px"},Ot={key:1},Nt={class:"flex min-h-1rem items-stretch"},Dt=["onDragover","onDragstart","onTouchstart"],Ft=["onClick"],Gt=["onClick"],Jt=Z({__name:"CardList",props:{list:{},label:{},addable:{type:Boolean},draggable:{type:Boolean},deletable:{type:Boolean}},emits:["clickItem","deleteItem","addItem","update:list"],setup(i,{emit:t}){const n=i,s=t,g=te("cardListContainer"),d=te("cardItem"),u=ne([]),r=ne(null),y=ne(null),h=ne(null),a=ne(null),p=ne(!1);let B=null;Ge(()=>{D()}),Be(()=>n.list,D,{deep:!0});function D(){u.value=ee(n.list)}function J(C,l){if(!C.dataTransfer)return;r.value=l,C.dataTransfer.setData("text/plain",l.toString()),C.dataTransfer.effectAllowed="move";const b=new Image;b.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",C.dataTransfer.setDragImage(b,0,0)}function e(C,l){const b=C.touches[0]??null;b&&(h.value=l,a.value=b.clientY,p.value=!1,B=window.setTimeout(()=>{p.value=!0},750))}function o(C){if(!p.value||h.value===null||a.value===null)return;const l=C.touches[0]??null;if(!l)return;const b=l.clientY-a.value;if(R(h.value,b)){const m=h.value+(b>0?1:-1);if(m<0||m>=u.value.length)return;const k=u.value[h.value];if(!k)return;u.value.splice(h.value,1),u.value.splice(m,0,k),h.value=m,a.value=l.clientY}}function $(){B!==null&&(clearTimeout(B),B=null),h.value=null,a.value=null,p.value=!1,s("update:list",u.value)}function w(C,l){if(C.preventDefault(),r.value===l||r.value===null)return;const b=u.value[r.value];b&&(u.value.splice(r.value,1),u.value.splice(l,0,b),y.value=l,r.value=l)}function M(C){var b;const l=C.relatedTarget;l!==null&&((b=g.value)!=null&&b.contains(l))||(y.value=null)}function f(){r.value=null,y.value=null,s("update:list",u.value)}function A(C,l){s("clickItem",C,l)}function U(C,l){s("deleteItem",C,l)}function R(C,l){var m;const b=((m=d.value)==null?void 0:m.map(k=>k.getBoundingClientRect().height))??[],c=b[C];if(l>0){const k=b[C+1];if(c===void 0||k===void 0)return!1;const T=c/2+k/2;return l>=T}else{const k=b[C-1];if(c===void 0||k===void 0)return!1;const T=c/2+k/2;return Math.abs(l)>=T}}return(C,l)=>{const b=S("v-label"),c=S("v-card-text"),m=S("v-card");return _(),L("div",Mt,[C.$slots.label||C.label?(_(),j(b,{key:0,class:"flex-shrink-0 w-full"},{default:x(()=>[C.$slots.label?Te(C.$slots,"label",{key:0},void 0,!0):(_(),L("p",Ot,V(C.label),1))]),_:3})):z("",!0),P("div",{ref_key:"cardListContainer",ref:g,class:"flex-col gap-8px",onDragleave:M},[(_(!0),L(Y,null,X(u.value,(k,T)=>(_(),L("div",{ref_for:!0,ref:"cardItem",key:T},[v(m,{density:"compact",class:fe(["mx-auto w-full flex-shrink-0 card-item",{"drag-over":y.value===T||h.value===T&&p.value}]),variant:"outlined"},{default:x(()=>[v(c,{class:"!p-0"},{default:x(()=>[P("div",Nt,[C.draggable?(_(),L("div",{key:0,draggable:"true",class:"flex-center pl-0.5rem pr-0.25rem cursor-ns-resize",onDragover:Le(N=>w(N,T),["prevent"]),onDragstart:N=>J(N,T),onDragend:f,onTouchstart:N=>e(N,T),onTouchmove:l[0]||(l[0]=Le(N=>o(N),["prevent"])),onTouchend:$},l[2]||(l[2]=[P("span",{class:"mdi text-24px mdi-drag"},null,-1)]),40,Dt)):z("",!0),P("div",{class:fe(["flex-grow min-h-20px flex items-center py-1rem cursor-pointer",{"pl-1rem":!C.draggable,"pr-1rem":!C.deletable}]),onClick:N=>A(k,T)},[Te(C.$slots,"default",nt({ref_for:!0},k),void 0,!0)],10,Ft),C.deletable?(_(),L("p",{key:1,class:"flex-center pl-0.25rem pr-0.5rem cursor-pointer",onClick:N=>U(k,T)},l[3]||(l[3]=[P("span",{class:"mdi mdi-delete text-24px"},null,-1)]),8,Gt)):z("",!0)])]),_:2},1024)]),_:2},1032,["class"])]))),128))],544),C.addable?(_(),j(m,{key:1,density:"compact",class:"mx-auto w-full flex-shrink-0",variant:"outlined",onClick:l[1]||(l[1]=k=>C.$emit("addItem"))},{default:x(()=>[v(c,null,{default:x(()=>l[4]||(l[4]=[P("div",{class:"flex items-center justify-center min-h-1rem"},[P("span",{class:"mdi mdi-plus text-24px"})],-1)])),_:1})]),_:1})):z("",!0)])}}}),Ee=Oe(Jt,[["__scopeId","data-v-f316fa0b"]]),jt={key:0,class:"overflow-y-auto p-16px pb-40px"},se=Z({__name:"FullscreenDialog",props:{modelValue:{},title:{},btnTitle:{},btnEvent:{type:Function}},emits:["update:model-value"],setup(i,{emit:t}){const n=t;function s(){n("update:model-value",null)}function g(d){n("update:model-value",d)}return(d,u)=>{const r=S("v-btn"),y=S("v-toolbar-title"),h=S("v-toolbar-items"),a=S("v-toolbar"),p=S("v-card"),B=S("v-dialog");return _(),j(B,{"model-value":!!d.modelValue,fullscreen:"","onUpdate:modelValue":s},{default:x(()=>[v(p,null,{default:x(()=>[v(a,null,{default:x(()=>[v(r,{icon:"mdi-close",onClick:s}),v(y,null,{default:x(()=>[K(V(d.title??""),1)]),_:1}),v(h,null,{default:x(()=>[v(r,{text:d.btnTitle,onClick:u[0]||(u[0]=async()=>{d.modelValue!==null&&(await d.btnEvent(d.modelValue)??!0)&&s()})},null,8,["text"])]),_:1})]),_:1}),d.modelValue?(_(),L("div",jt,[Te(d.$slots,"default",{data:d.modelValue,updateData:g})])):z("",!0)]),_:3})]),_:3},8,["model-value"])}}}),Kt={class:"relative"},Ht={key:0,class:"text-red ml-2px"},$e=Z({__name:"NumberField",props:{modelValue:{default:0},required:{type:Boolean,default:!1},label:{default:null},isFloat:{type:Boolean,default:!1}},emits:["update:model-value"],setup(i,{emit:t}){const n=t;function s(u){const r=i.isFloat?parseFloat(u):parseInt(u);return isNaN(r)?null:r}const g=q(()=>{const u=[];return i.required&&u.push(r=>!!s(r)||"此欄位為必填"),u});function d(u){const r=s(u);n("update:model-value",r??0)}return(u,r)=>{const y=S("v-text-field");return _(),j(y,{rules:g.value,inputmode:"decimal","model-value":u.modelValue,clearable:u.modelValue!==0,"onUpdate:modelValue":d},lt({_:2},[u.label!==null?{name:"label",fn:x(()=>[P("p",Kt,[K(V(u.label)+" ",1),u.required?(_(),L("span",Ht,"*")):z("",!0)])]),key:"0"}:void 0]),1032,["rules","model-value","clearable"])}}}),zt={class:"relative"},Yt={key:0,class:"text-red ml-2px"},le=Z({__name:"TextFiled",props:{modelValue:{default:null},required:{type:Boolean,default:!1},label:{},isUrl:{type:Boolean,default:!1}},emits:["update:model-value"],setup(i,{emit:t}){const n=t,s=q(()=>{const d=[];return i.required&&d.push(u=>!!u||"此欄位為必填"),i.isUrl&&d.push(u=>!!(u===null||u===""||u.startsWith("https://"))||"請填寫正確的網址 (需為 https:// 開頭)"),d});function g(d){d=(d==null?void 0:d.trim())??null,n("update:model-value",ie(d)?d:null)}return(d,u)=>{const r=S("v-text-field");return _(),j(r,{clearable:"",rules:s.value,"model-value":d.modelValue,"onUpdate:modelValue":g},{label:x(()=>[P("p",zt,[K(V(d.label)+" ",1),d.required?(_(),L("span",Yt,"*")):z("",!0)])]),_:1},8,["rules","model-value"])}}}),Xt={class:"flex-col gap-4px h-full overflow-hidden"},Wt={class:"flex"},qt={class:"flex-1 gap-8px flex-col overflow-y-auto py-8px"},Zt={class:"flex items-center justify-between"},Qt=["onClick"],ea={class:"flex-col gap-2"},ta={class:"flex-col gap-4px"},aa={class:"text-0.9em"},na={class:"flex gap-4px items-center justify-center"},la={class:"flex-1"},oa={class:"flex-1"},sa={class:"overflow-y-auto w-full p-24px"},ra={key:0,class:"flex-col gap-8px"},ia={class:"flex items-center justify-between gap-4px min-h-1rem"},da={class:"flex-col gap-1"},ca={key:0,class:"opacity-50 text-0.75rem"},ua={key:0,class:"mdi text-24px mdi-check-circle"},pa={class:"flex items-center justify-between min-h-1rem gap-4px"},ma={class:"flex-col gap-4px"},ya={class:"opacity-50 text-0.75rem"},ga={key:0,class:"mdi mdi-check-circle text-24px"},fa={class:"flex-col gap-2"},va={class:"flex-col"},Pa={class:"text-1rem"},ha={class:"text-0.75rem"},_a=Z({__name:"CreditCardManagement",setup(i){const t=ce(),{cardConfigs:n,cards:s}=de(t),g=G(null),d=G(null),u=G(null),r=G(null),y=q(()=>{const $=r.value===null?null:s.value.get(r.value)??null;return $===null?null:$}),h=G(null);function a($){for(const w of $)t.updateCardConfig(O(),w)}function p({id:$,config:w}){return At(w)?(t.updateCardConfig($,w),!0):(alert("儲存失敗"),!1)}function B(){return{id:O(),config:{name:null,description:null,rewards:[]}}}function D({id:$,config:w}){if(g.value===null||!bt(w))return alert("儲存失敗"),!1;const M=g.value.config.plans.find(f=>f.id===$);return M?M.config=w:g.value.config.plans.push({id:$,config:w}),!0}function J(){return{id:O(),config:{name:"",airlineCode:"",milesPerUnit:0,pointsPerMile:0}}}function e({id:$,config:w}){if(g.value===null||!kt(w)||w.milesPerUnit===0||w.pointsPerMile===0)return alert("儲存失敗"),!1;const M=g.value.config.pointExchanges.find(f=>f.id===$);return M?M.config=w:g.value.config.pointExchanges.push({id:$,config:w}),!0}function o(){g.value!==null&&(t.deleteCardConfig(g.value.id),g.value=null)}return($,w)=>{const M=S("v-label"),f=S("v-btn"),A=S("v-card"),U=S("v-textarea"),R=S("v-card-text"),C=S("v-card-actions"),l=S("v-dialog"),b=S("v-checkbox");return _(),L(Y,null,[P("div",Xt,[P("div",Wt,[v(M,{class:"ml-4px flex-grow !text-0.9rem"},{default:x(()=>w[12]||(w[12]=[K(" 點擊 "),P("span",{class:"mdi mdi-pencil mx-4px"},null,-1),K(" 編輯卡片，點擊卡片切換方案 ")])),_:1}),v(f,{text:"匯入",onClick:w[0]||(w[0]=()=>h.value=[])})]),P("div",qt,[(_(!0),L(Y,null,X(E(n).entries(),([c,m],k)=>(_(),j(A,{key:k,density:"compact",class:"mx-auto w-full flex-shrink-0",variant:"outlined",title:m.name,text:m.description??"",onClick:()=>r.value=c},{title:x(()=>[P("div",Zt,[K(V(m.name)+" ",1),P("span",{class:"mdi mdi-pencil absolute top-0 py-0.625rem px-1rem right-0",onClick:Le(()=>g.value={id:c,config:E(ee)(m)},["stop"])},null,8,Qt)])]),_:2},1032,["title","text","onClick"]))),128))])]),v(se,{modelValue:g.value,"onUpdate:modelValue":w[6]||(w[6]=c=>g.value=c),title:"編輯卡片","btn-title":"儲存","btn-event":p},{default:x(({data:c})=>[P("div",ea,[v(le,{modelValue:c.config.name,"onUpdate:modelValue":m=>c.config.name=m,label:"卡片名稱",required:""},null,8,["modelValue","onUpdate:modelValue"]),v(le,{modelValue:c.config.description,"onUpdate:modelValue":m=>c.config.description=m,label:"卡片描述"},null,8,["modelValue","onUpdate:modelValue"]),v(le,{modelValue:c.config.cardUrl,"onUpdate:modelValue":m=>c.config.cardUrl=m,"is-url":"",label:"信用卡網頁"},null,8,["modelValue","onUpdate:modelValue"]),v(Ue,{modelValue:c.config.storeBlackList,"onUpdate:modelValue":m=>c.config.storeBlackList=m,addable:"",label:"卡片不回饋清單",list:E(t).storeList},null,8,["modelValue","onUpdate:modelValue","list"]),v(Ue,{modelValue:c.config.paymentBlackList,"onUpdate:modelValue":m=>c.config.paymentBlackList=m,label:"卡片不回饋支付方式","show-selected":"",list:E(ze)},null,8,["modelValue","onUpdate:modelValue","list"]),v(Ee,{list:c.config.plans,class:"mb-8",label:"方案設定 (點擊卡片進行編輯)",addable:"",draggable:"",deletable:"","onUpdate:list":m=>c.config.plans=m,onClickItem:w[1]||(w[1]=m=>d.value=E(ee)(m)),onAddItem:w[2]||(w[2]=m=>d.value=B()),onDeleteItem:(m,k)=>E(t).openDialog({text:`確定要刪除'${m.config.name??"此"}'方案嗎？`,events:[{text:"取消"},{text:"刪除",event:()=>{c.config.plans.splice(k,1)},class:"text-red"}]})},{default:x(m=>[K(V(m.config.name??"(空)"),1)]),_:2},1032,["list","onUpdate:list","onDeleteItem"]),v(Ee,{list:c.config.pointExchanges,class:"mb-8",addable:"",draggable:"",deletable:"",label:"點數交換方式 (點擊卡片進行編輯)",onClickItem:w[3]||(w[3]=m=>u.value=E(ee)(m)),onAddItem:w[4]||(w[4]=m=>u.value=J()),onDeleteItem:(m,k)=>E(t).openDialog({text:`確定要刪除'${m.config.name??"此"}'點數交換方式嗎？`,events:[{text:"取消"},{text:"刪除",event:()=>{c.config.pointExchanges.splice(k,1)},class:"text-red"}]})},{default:x(m=>[K(V(m.config.name??"(空)"),1)]),_:2},1032,["list","onDeleteItem"]),v(f,{class:"text-red",text:"刪除",onClick:w[5]||(w[5]=m=>E(t).openDialog({text:"確定要刪除嗎？",events:[{text:"取消"},{text:"刪除",event:o,class:"text-red"}]}))})])]),_:1},8,["modelValue"]),v(se,{modelValue:d.value,"onUpdate:modelValue":w[7]||(w[7]=c=>d.value=c),title:"編輯方案","btn-title":"儲存","btn-event":D},{default:x(({data:c})=>[v(le,{modelValue:c.config.name,"onUpdate:modelValue":m=>c.config.name=m,label:"方案名稱"},null,8,["modelValue","onUpdate:modelValue"]),v(U,{label:"方案描述","model-value":c.config.description,"auto-grow":"",clearable:"","onUpdate:modelValue":m=>c.config.description=E(ie)(m)?m:null},null,8,["model-value","onUpdate:modelValue"]),v(Ee,{list:c.config.rewards,addable:"",draggable:"",deletable:"",onDeleteItem:(m,k)=>E(t).openDialog({text:"確定要刪除嗎？",events:[{text:"取消"},{text:"刪除",event:()=>{c.config.rewards.splice(k,1)},class:"text-red"}]})},{label:x(()=>w[13]||(w[13]=[P("p",{class:"flex-col"},[K(" 回饋清單 (點擊卡片進行編輯) "),P("span",{class:"text-0.75em"}," 依回饋排序檢查規則，符合即計算回饋，不再檢查後續項目 ")],-1)])),default:x(m=>[P("p",ta,[K(V(m.rewardStrategy.name??"(空)")+" ",1),P("span",aa,V(E(He)(m.rewardStrategy).description),1)])]),_:2},1032,["list","onDeleteItem"])]),_:1},8,["modelValue"]),v(se,{modelValue:u.value,"onUpdate:modelValue":w[8]||(w[8]=c=>u.value=c),title:"編輯交換方式","btn-title":"儲存","btn-event":e},{default:x(({data:c})=>[v(le,{modelValue:c.config.name,"onUpdate:modelValue":m=>c.config.name=m,label:"名稱",required:""},null,8,["modelValue","onUpdate:modelValue"]),v(le,{modelValue:c.config.airlineCode,"onUpdate:modelValue":m=>c.config.airlineCode=m,label:"目標里程",required:""},null,8,["modelValue","onUpdate:modelValue"]),P("div",na,[P("div",la,[v($e,{modelValue:c.config.pointsPerMile,"onUpdate:modelValue":m=>c.config.pointsPerMile=m,label:"points",required:""},null,8,["modelValue","onUpdate:modelValue"])]),w[14]||(w[14]=P("span",{class:"mdi mdi-arrow-right-thick text-24px mb-16px"},null,-1)),P("div",oa,[v($e,{modelValue:c.config.milesPerUnit,"onUpdate:modelValue":m=>c.config.milesPerUnit=m,label:`${c.config.airlineCode} 哩程`,required:""},null,8,["modelValue","onUpdate:modelValue","label"])])])]),_:1},8,["modelValue"]),v(l,{"model-value":!!r.value,"onUpdate:modelValue":w[10]||(w[10]=c=>r.value=null)},{default:x(()=>[v(A,{"min-width":"100%"},{default:x(()=>[v(R,{class:"overflow-hidden flex max-h-80dvh !p-0"},{default:x(()=>[P("div",sa,[y.value!==null?(_(),L("div",ra,[w[15]||(w[15]=K(" 切換方案 ")),(_(!0),L(Y,null,X(y.value.selectablePlan??[],(c,m)=>(_(),j(A,{key:m,density:"compact",class:"mx-auto w-full flex-shrink-0",variant:"outlined",onClick:()=>r.value&&y.value&&c.id!==y.value.selectedPlanId&&E(t).updatePlan(r.value,c.id)},{default:x(()=>[v(R,null,{default:x(()=>[P("div",ia,[P("p",da,[K(V(c.name??"(空)")+" ",1),c.description?(_(),L("span",ca,V(c.description),1)):z("",!0)]),c.id===y.value.selectedPlanId?(_(),L("span",ua)):z("",!0)])]),_:2},1024)]),_:2},1032,["onClick"]))),128)),w[16]||(w[16]=K(" 切換點數交換方式 ")),(_(!0),L(Y,null,X(y.value.selectablePointExchange??[],(c,m)=>(_(),j(A,{key:m,density:"compact",class:"mx-auto w-full flex-shrink-0",variant:"outlined",onClick:()=>r.value&&y.value&&c.id!==y.value.selectedPointExchangeId&&E(t).updatePointExchange(r.value,c.id)},{default:x(()=>[v(R,null,{default:x(()=>[P("div",pa,[P("p",ma,[K(V(c.name)+" ",1),P("span",ya,V(c.description),1)]),c.id===y.value.selectedPointExchangeId?(_(),L("span",ga)):z("",!0)])]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):z("",!0)])]),_:1}),v(C,null,{default:x(()=>[v(f,{class:"ms-auto",text:"Close",onClick:w[9]||(w[9]=c=>r.value=null)})]),_:1})]),_:1})]),_:1},8,["model-value"]),v(se,{modelValue:h.value,"onUpdate:modelValue":w[11]||(w[11]=c=>h.value=c),title:"請選擇卡片","btn-title":"匯入","btn-event":a},{default:x(({data:c,updateData:m})=>[P("div",fa,[(_(!0),L(Y,null,X(E(Lt),(k,T)=>(_(),j(b,{key:T,"model-value":c,value:k,"hide-details":"",color:"blue",density:"comfortable",class:"import-card-checkbox","onUpdate:modelValue":N=>N&&m(N)},{label:x(()=>[P("div",va,[P("p",Pa,V(k.name),1),P("p",ha,V(k.description),1)])]),_:2},1032,["model-value","value","onUpdate:modelValue"]))),128))])]),_:1},8,["modelValue"])],64)}}}),wa=Oe(_a,[["__scopeId","data-v-30616ec9"]]),xa={class:"gap-8px h-full flex-col"},Aa={class:"flex items-center flex-wrap gap-x-8px"},ba={class:"gap-8px flex-center"},ka={ref:"rewardCardList",class:"flex-col gap-4px overflow-y-auto flex-grow-1"},Ca={class:"flex items-center gap-4px overflow-hidden w-full"},Sa={class:"opacity-50 flex-grow-1 text-12px truncate"},Ra={key:0,class:"fa-solid fa-circle-check"},Ea={class:"flex-col gap-8px"},Ba={class:"text-0.75rem"},Ta={class:"text-wrap"},La={class:"flex-col"},Ua={class:"flex justify-between"},Ia=["href"],Va={key:0},$a={key:1},Ma="其他店家",Oa=Z({__name:"SearchReward",setup(i){const t=re(0),n=re(2),s=je(0),{onlyShowCurrentPlan:g,onlyShowCurrentPointExchange:d,commonPaymentMethods:u,showCards:r,conditionTypes:y,storeAliases:h,storeList:a}=de(ce()),p=G(0),B=G(null),D=G("Domestic"),J=G([]),e=te("rewardCardList"),o=te("storeAutoComplete"),$=q(()=>{const U=a.value.map(R=>({store:R,aliases:[...h.value.get(R)??[]]}));return[{store:Ma},...U]});function w(U,R,C){return R=R.toLowerCase(),[U,...(C==null?void 0:C.raw.aliases)??[]].map(b=>b.toLowerCase()).some(b=>b.includes(R))}const M=q(()=>{var C;const U={amount:p.value,acceptedPayments:J.value,transactionAttributesType:D.value,currentConditions:[...y.value]};ie(B.value)&&(U.transactionStore=B.value);const R=[];for(const l of r.value){const b=l.getRewardInfos(U,{onlyCurrentPlan:g.value,onlyCurrentExchangeStrategy:d.value}),c=!g.value||!d.value,m=!d.value&&l.selectablePointExchange.length>1;for(const k of b){const T={cardName:l.name,planName:k.planName,rewardName:k.rewardName,miles:k.miles,payments:k.payments,airLinesCode:k.airlineCode,isSelectedPlan:c&&k.planId===l.selectedPlanId,calculateDetail:A(k.rewardStrategy,k.pointExchangeStrategy),description:k.rewardStrategy===null?null:`${k.rewardStrategy.description}，${k.pointExchangeStrategy.description}`,cardUrl:l.cardUrl,cardDescription:l.description,pointExchangeName:m?k.pointExchangeName:""};R.push(T)}}return(C=e.value)==null||C.scrollTo({top:0,behavior:"smooth"}),De(De(R,"isSelectedPlan","desc"),"miles","desc")}),f=G(null);function A(U,R){const{pointsPerMile:C,milesPerUnit:l,airlineCode:b}=R,c="回饋計算:";switch(U==null?void 0:U.type){case"RoundedPercentageReward":case"TruncatedPercentageReward":{const m=U.type==="RoundedPercentageReward"?t:s;let k=0;return[c,...U.pointBackRates.map(({rate:T,limit:N})=>{const I=Math.min(m(p.value*T/100),N??1/0);k+=I;const W=N!==void 0?` (limit ${N})`:"";return`${p.value} * ${T}% = ${I}${W}`}),`總計 ${k} points`,`${k} / ${C} * ${l} = ${R.calculateMiles(k)} ${b}`]}case"AccumulatedPointsReward":{const m=n(p.value/U.spendingPerPoint);return[c,`${p.value} / ${U.spendingPerPoint} = ${m} points`,`${m} / ${C} * ${l} = ${R.calculateMiles(m)} ${b}`]}case"FixedRatePointsReward":{const m=s(p.value/U.spendingPerPoint);return[c,`${p.value} / ${U.spendingPerPoint} = ${m} points (小數省略)`,`${m} / ${C} * ${l} = ${R.calculateMiles(m)} ${b}`]}default:return[]}}return(U,R)=>{const C=S("v-autocomplete"),l=S("v-label"),b=S("v-checkbox"),c=S("v-radio"),m=S("v-radio-group"),k=S("v-card"),T=S("v-btn"),N=S("v-dialog");return _(),L(Y,null,[P("div",xa,[v($e,{modelValue:p.value,"onUpdate:modelValue":R[0]||(R[0]=I=>p.value=I),label:"交易金額",class:"flex-grow-0",density:"comfortable","hide-details":""},null,8,["modelValue"]),v(C,{ref:"storeAutoComplete",modelValue:B.value,"onUpdate:modelValue":R[1]||(R[1]=I=>B.value=I),"custom-filter":w,class:"flex-grow-0",density:"comfortable","hide-details":"","item-value":"store","item-title":"store",items:$.value,clearable:E(ie)(B.value),placeholder:"全部店家","onUpdate:menu":R[2]||(R[2]=I=>{var W;return!I&&((W=E(o))==null?void 0:W.blur())})},null,8,["modelValue","items","clearable"]),P("div",null,[v(l,{text:"店家可使用的付款方式"}),P("div",Aa,[(_(!0),L(Y,null,X(E(u),(I,W)=>(_(),j(b,{key:W,modelValue:J.value,"onUpdate:modelValue":R[3]||(R[3]=et=>J.value=et),density:"compact",value:I,"hide-details":"",label:I},null,8,["modelValue","value","label"]))),128))])]),P("div",ba,[v(l,{text:"交易類型"}),v(m,{modelValue:D.value,"onUpdate:modelValue":R[4]||(R[4]=I=>D.value=I),"hide-details":"",inline:""},{default:x(()=>[v(c,{density:"compact",label:"國內交易",value:"Domestic"}),v(c,{density:"compact",label:"國外交易",value:"Foreign"})]),_:1},8,["modelValue"])]),P("div",ka,[(_(!0),L(Y,null,X(M.value,(I,W)=>(_(),j(k,{key:W,density:"compact",class:"mx-auto w-full flex-shrink-0",variant:"outlined",onClick:()=>f.value=I},{title:x(()=>[P("div",Ca,[K(V(I.miles)+" ",1),P("p",Sa,V(I.airLinesCode)+" "+V(I.payments.length===0?"":` (限定支付: ${I.payments.join(", ")})`),1),I.isSelectedPlan?(_(),L("i",Ra)):z("",!0)])]),text:x(()=>[P("div",Ea,[P("p",Ba,V(`${I.cardName} ${I.planName??""} ${I.rewardName??""} ${I.pointExchangeName}`),1)])]),_:2},1032,["onClick"]))),128))],512)]),v(N,{"model-value":!!f.value,"onUpdate:modelValue":R[6]||(R[6]=I=>f.value=null)},{default:x(()=>[f.value?(_(),j(k,{key:0,class:"mx-auto reward-detail-dialog","min-width":"100%",title:`${f.value.cardName} ${f.value.planName??""} ${f.value.rewardName??""}`},{subtitle:x(()=>[P("p",Ta,V(f.value.description??""),1)]),text:x(()=>[P("div",La,[P("p",Ua,[R[7]||(R[7]=K(" 卡片說明： ")),f.value.cardUrl!==null?(_(),L("a",{key:0,target:"_blank",class:"underline",href:f.value.cardUrl}," 網站 ",8,Ia)):z("",!0)]),f.value.cardDescription!==""||f.value.cardDescription!==null?(_(),L("p",Va,V(f.value.cardDescription),1)):z("",!0),f.value.pointExchangeName!==""?(_(),L("p",$a,V(f.value.pointExchangeName),1)):z("",!0),R[8]||(R[8]=P("br",null,null,-1)),P("p",null,"消費金額: "+V(p.value),1),P("p",null,"哩程預估: "+V(f.value.miles)+" "+V(f.value.airLinesCode),1),R[9]||(R[9]=P("br",null,null,-1)),(_(!0),L(Y,null,X(f.value.calculateDetail,(I,W)=>(_(),L("p",{key:W},V(I),1))),128))])]),actions:x(()=>[v(T,{class:"ms-auto",text:"Close",onClick:R[5]||(R[5]=I=>f.value=null)})]),_:1},8,["title"])):z("",!0)]),_:1},8,["model-value"])],64)}}}),Na=Oe(Oa,[["__scopeId","data-v-18e5ec74"]]),Da={class:"flex-col h-full overflow-hidden gap-8px"},Fa={class:"flex-shrink-0 flex-col gap-8px"},Ga={key:0,class:"flex justify-between items-center"},Ja={class:"flex gap-8px"},ja={key:0,class:"gap-4px flex-col flex-grow-1 overflow-y-auto"},Ka={class:"text-1rem"},Ha={class:"text-0.8rem"},za={key:1,class:"flex-grow-1"},Ya={class:"flex-col gap-24px m-8px"},Xa={class:"flex-col gap-4px"},Wa=Z({__name:"StoreAliasManagement",setup(i){const t=ce(),{aliasType:n,customAliases:s,storeAliases:g}=de(t),d=te("storeList"),u={default:"系統預設",additional:"預設+自定義",custom:"自定義"},r=G(!0),y=G(!1),h=G(!0),a=G("[]"),p=G(null),B=q(()=>{let f;return n.value==="default"?f=Ze:n.value==="additional"?f=[...g.value].map(([A,U])=>[A,[...U]]):f=[...s.value],f.map(([A,U])=>({title:A,aliases:[...U]}))});Be(()=>{var f;return(f=p.value)==null?void 0:f.title},f=>{if(f==null||p.value===null)return;const A=[...s.value.get(f)??[]];A[A.length-1]!==""&&A.push(""),p.value.aliases=A}),Be(r,w),ot(()=>{w(),y.value=!1,h.value=!0,r.value=!0});function D(f,A){if(p.value===null)return;let U=p.value.aliases;U[A]=f,U[U.length-1]!==""&&U.push("")}function J(f){if(n.value!=="default")if(f===null)p.value={title:null,aliases:[]};else{const A=[...s.value.get(f)??[]];A[A.length-1]!==""&&A.push(""),p.value={title:f,aliases:A}}}function e({title:f,aliases:A}){f!==null&&t.updateCustomAliases(f,[...new Set(A)].filter(ie))}function o(f){if(f=f.trim(),a.value=f,y.value=!0,f===""){h.value=!0;return}try{const A=JSON.parse(f);h.value=Ve(A)}catch(A){console.error(A),h.value=!1}}function $(){let f;if(r.value)f=!0;else{a.value===""&&(a.value="[]");try{const A=JSON.parse(a.value);Ve(A)?(t.updateAllCustomAliases(A),f=!0):f=!1}catch(A){console.error(A),f=!1}}f?(alert("儲存成功"),y.value=!1):alert(`儲存失敗${r.value?"":"，JSON 不符合規則"}`)}function w(){a.value=JSON.stringify([...s.value],null,2)}function M(f){y.value||(f==="default"&&(r.value=!0),t.updateAliasType(f))}return(f,A)=>{const U=S("v-label"),R=S("v-btn"),C=S("v-btn-toggle"),l=S("v-switch"),b=S("v-card"),c=S("v-textarea"),m=S("v-autocomplete"),k=S("v-text-field");return _(),L(Y,null,[P("div",Da,[P("div",Fa,[v(U,{text:"別名設定"}),v(C,{"model-value":E(n),rounded:"0",group:"",class:"w-full flex justify-center",disabled:y.value,"onUpdate:modelValue":M},{default:x(()=>[(_(!0),L(Y,null,X(E(Qe),(T,N)=>(_(),j(R,{key:N,class:"flex-1",value:T},{default:x(()=>[K(V(u[T]),1)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value","disabled"]),E(n)!=="default"?(_(),L("div",Ga,[P("div",Ja,[r.value?(_(),j(R,{key:0,onClick:A[0]||(A[0]=T=>J(null))},{default:x(()=>A[4]||(A[4]=[K(" Add ")])),_:1})):(_(),j(R,{key:1,onClick:$},{default:x(()=>A[5]||(A[5]=[K(" 儲存 ")])),_:1}))]),v(l,{modelValue:r.value,"onUpdate:modelValue":A[1]||(A[1]=T=>r.value=T),disabled:y.value,"hide-details":"",label:"圖示"},null,8,["modelValue","disabled"])])):z("",!0)]),r.value?(_(),L("div",ja,[(_(!0),L(Y,null,X(B.value,(T,N)=>(_(),j(b,{key:N,density:"compact",class:"mx-auto w-full flex-shrink-0",variant:"outlined",onClick:I=>J(T.title)},{text:x(()=>[P("p",Ka,V(T.title),1),P("p",Ha,V(T.aliases.join(", ")),1)]),_:2},1032,["onClick"]))),128))])):(_(),L("div",za,[v(c,{"model-value":a.value,clearable:"","auto-grow":"",disabled:E(n)==="default","max-rows":15,messages:y.value?"上方儲存完成後才能執行其他動作，離開這頁不會存檔":"","error-messages":h.value?"":"json 無效",label:"自定義別名設定檔","onUpdate:modelValue":o},null,8,["model-value","disabled","messages","error-messages"])]))]),v(se,{modelValue:p.value,"onUpdate:modelValue":A[3]||(A[3]=T=>p.value=T),title:"編輯商店別名","btn-title":"儲存","btn-event":e},{default:x(({data:T})=>[P("div",Ya,[v(m,{ref:"storeList",modelValue:T.title,"onUpdate:modelValue":N=>T.title=N,class:"flex-grow-0","hide-details":"",label:"目標店家",items:E(t).storeList,placeholder:"選擇店家","onUpdate:menu":A[2]||(A[2]=N=>{var I;return!N&&((I=E(d))==null?void 0:I.blur())})},null,8,["modelValue","onUpdate:modelValue","items"]),P("div",Xa,[v(U,{text:"自定義別名列表"}),(_(!0),L(Y,null,X(T.aliases,(N,I)=>(_(),j(k,{key:I,"hide-details":"",clearable:"","model-value":N,"onUpdate:modelValue":W=>D(W,I),"onClick:clear":()=>T.aliases.splice(I,1)},null,8,["model-value","onUpdate:modelValue","onClick:clear"]))),128))])])]),_:1},8,["modelValue"])],64)}}}),qa={style:{height:"calc(100dvh - 56px)"},class:"overflow-hidden mt-56px p-8px"},Za={class:"w-full text-center"},Qa={class:"w-full flex items-center justify-between px-8px"},en=Z({__name:"App",setup(i){const t=ce(),{dialog:n}=de(t),s={查詢回饋:Na,信用卡管理:wa,商家別名:Wa,喜好設定:$t},g=Object.keys(s),d=G(!1),u=G(g[0]);return(r,y)=>{const h=S("v-app-bar-nav-icon"),a=S("v-app-bar-title"),p=S("v-app-bar"),B=S("v-list-item"),D=S("v-divider"),J=S("v-navigation-drawer"),e=S("v-app"),o=S("v-btn"),$=S("v-card"),w=S("v-dialog");return _(),L(Y,null,[v(e,null,{default:x(()=>[v(p,{density:"comfortable",elevation:2},{prepend:x(()=>[v(h,{onClick:y[0]||(y[0]=M=>d.value=!d.value)},{default:x(()=>y[2]||(y[2]=[P("i",{class:"fa-solid fa-bars"},null,-1)])),_:1}),v(a,null,{default:x(()=>[K(V(u.value),1)]),_:1})]),_:1}),v(J,{modelValue:d.value,"onUpdate:modelValue":y[1]||(y[1]=M=>d.value=M)},{default:x(()=>[(_(!0),L(Y,null,X(E(g),(M,f)=>(_(),L(Y,{key:f},[v(B,{title:M,class:fe(["h-48px",{"text-emphasis":u.value===M}]),onClick:()=>{u.value=M,d.value=!1}},null,8,["title","class","onClick"]),v(D)],64))),128))]),_:1},8,["modelValue"]),P("main",qa,[(_(),j(rt,null,[(_(),j(st(s[u.value])))],1024))])]),_:1}),v(w,{"model-value":!!E(n),"onUpdate:modelValue":E(t).closeDialog},{default:x(()=>[E(n)!==null?(_(),j($,{key:0,class:"mx-auto","min-width":"100%"},{text:x(()=>[P("div",Za,V(E(n).text),1)]),actions:x(()=>[P("div",Qa,[(_(!0),L(Y,null,X(E(n).events,(M,f)=>(_(),j(o,{key:f,text:M.text,class:fe(M.class),variant:"elevated",onClick:async()=>{"event"in M&&await M.event(),E(t).closeDialog()}},null,8,["text","class","onClick"]))),128))])]),_:1})):z("",!0)]),_:1},8,["model-value","onUpdate:modelValue"])],64)}}}),Ne=it(en);Ne.use(pt);Ne.use(ct());Ne.mount("#app");
//# sourceMappingURL=bestMileageCards-CEqv1DAO.js.map
