var Me=Object.defineProperty;var Ae=(r,t,a)=>t in r?Me(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var v=(r,t,a)=>Ae(r,typeof t!="symbol"?t+"":t,a);import{o as fe,b as S,c as W,f as J,d as ee,B as _,g as A,j as B,k as w,x as h,C as T,u as k,e as pe,F as $,l as j,v as D,D as q,t as x,y as Y,m as Le,K as Te,E as Re,A as ke}from"../index-BEADJcJ_.js";import{d as be,s as re,c as Ce}from"../pinia-DSUaGiRA.js";import{C as Be,v as Se}from"../StorageManager-6NkwnsNY.js";import{a as me,b as ue}from"../sorts-BPW8KRTv.js";import{r as Ue,b as le,g as ye,c as xe}from"../index-CZjE7_pj.js";import{_ as Pe}from"../_plugin-vue_export-helper-DlAUqK2U.js";const U=Ue(2);class H{constructor({type:t,name:a,pointsPerMile:s,milesPerUnit:l}){v(this,"_type");v(this,"_name");v(this,"_pointsPerMile");v(this,"_milesPerUnit");this._type=t,this._name=a,this._pointsPerMile=s,this._milesPerUnit=l}get type(){return this._type}get name(){return this._name}get pointsPerMile(){return this._pointsPerMile}get milesPerUnit(){return this._milesPerUnit}_pointsConvertToMiles(t){return t*this._milesPerUnit/this._pointsPerMile}calculateRangeMilesCost(t,a){const s=[];for(let i=t;i<=a;i++){const d=U(i/this.calculateMiles(i));isNaN(d)||d===1/0||d===-1/0||s.push(d)}s.sort((i,d)=>i-d);const l=s[s.length-1],u=s[0];if(l===void 0||u===void 0)throw new Error("cannot be calculated");const o=s.reduce((i,d)=>i+d,0)/s.length;return{max:l,min:u,average:U(o)}}}class Ee extends H{constructor({pointBackRates:a,...s}){super(s);v(this,"_pointBackRates");this._pointBackRates=a}get pointBackRates(){return this._pointBackRates}get _maxRete(){return this._pointBackRates.reduce((a,{rate:s})=>a+s,0)}get baselineCostPerMile(){return U(100/this._pointsConvertToMiles(this._maxRete))}get bestCaseCostPerMile(){return U(Math.ceil(100/this._maxRete/2)/this._pointsConvertToMiles(1))}get maximumCostPerMile(){return U((Math.ceil(150/this._maxRete)-1)/this._pointsConvertToMiles(1))}get description(){return`消費${this._pointBackRates.length>1?"最高":""}${this._maxRete.toString()}%回饋點數(四捨五入)，${this._pointsPerMile.toString()}點兌換${this._milesPerUnit.toString()}哩程`}calculateMiles(a){let s=0;for(const{rate:l,limit:u=1/0}of this._pointBackRates)s+=Math.min(Math.round(a*(l/100)),u);return U(this._pointsConvertToMiles(s))}toJSON(){return{type:this._type,name:this._name,pointsPerMile:this._pointsPerMile,milesPerUnit:this._milesPerUnit,pointBackRates:this._pointBackRates}}}class Ie extends H{constructor({pointBackRates:a,...s}){super(s);v(this,"_pointBackRates");this._pointBackRates=a}get pointBackRates(){return this._pointBackRates}get _maxRete(){return this._pointBackRates.reduce((a,{rate:s})=>a+s,0)}get baselineCostPerMile(){return U(100/this._pointsConvertToMiles(this._maxRete))}get bestCaseCostPerMile(){return this.baselineCostPerMile}get maximumCostPerMile(){return U((Math.ceil(200/this._maxRete)-1)/this._pointsConvertToMiles(1))}get description(){return`消費${this._pointBackRates.length>1?"最高":""}${this._maxRete.toString()}%回饋點數(無條件捨去)，${this._pointsPerMile.toString()}點兌換${this._milesPerUnit.toString()}哩程`}calculateMiles(a){let s=0;for(const{rate:l,limit:u=1/0}of this._pointBackRates)s+=Math.min(Math.floor(a*(l/100)),u);return U(this._pointsConvertToMiles(s))}toJSON(){return{type:this._type,name:this._name,pointsPerMile:this._pointsPerMile,milesPerUnit:this._milesPerUnit,pointBackRates:this._pointBackRates}}}class Oe extends H{constructor({spendingPerPoint:a,...s}){super(s);v(this,"_spendingPerPoint");this._spendingPerPoint=a}get spendingPerPoint(){return this._spendingPerPoint}get baselineCostPerMile(){return U(this._spendingPerPoint/this._pointsConvertToMiles(1))}get bestCaseCostPerMile(){return this.baselineCostPerMile}get maximumCostPerMile(){return U((this._spendingPerPoint*2-1)/this._pointsConvertToMiles(1))}get description(){return`每消費${this._spendingPerPoint.toString()}元累積1點，${this._pointsPerMile.toString()}點兌換${this._milesPerUnit.toString()}哩程`}calculateMiles(a){const s=Math.floor(a/this._spendingPerPoint);return U(this._pointsConvertToMiles(s))}toJSON(){return{type:this._type,name:this._name,pointsPerMile:this._pointsPerMile,milesPerUnit:this._milesPerUnit,spendingPerPoint:this._spendingPerPoint}}}class Ne extends H{constructor({spendingPerMile:a,...s}){super({...s,pointsPerMile:1,milesPerUnit:1});v(this,"_spendingPerMile");this._spendingPerMile=a}get spendingPerMile(){return this._spendingPerMile}get baselineCostPerMile(){return this._spendingPerMile}get bestCaseCostPerMile(){return this.baselineCostPerMile}get maximumCostPerMile(){return this.baselineCostPerMile}get description(){return`每消費${this._spendingPerMile.toString()}元累積1哩程 (小數會進行累計)`}calculateMiles(a){return U(a/this._spendingPerMile)}toJSON(){return{type:this._type,name:this._name,spendingPerMile:this._spendingPerMile}}}class $e extends H{constructor({spendingPerMile:a,...s}){super({...s,pointsPerMile:1,milesPerUnit:1});v(this,"_spendingPerMile");this._spendingPerMile=a}get spendingPerMile(){return this._spendingPerMile}get baselineCostPerMile(){return this._spendingPerMile}get bestCaseCostPerMile(){return this.baselineCostPerMile}get maximumCostPerMile(){return this._spendingPerMile+this._spendingPerMile-1}get description(){return`每消費${this._spendingPerMile.toString()}元累積1哩程 (小數不累計)`}calculateMiles(a){return Math.floor(a/this._spendingPerMile)}toJSON(){return{type:this._type,name:this._name,spendingPerMile:this._spendingPerMile}}}const Ve={RoundedPointsReward:Ee,TruncatedPointsReward:Ie,PointsRewardPerThreshold:Oe,CumulativeMilesReward:Ne,DirectMilesReward:$e};function De(r){return new Ve[r.type](r)}class Fe{constructor(t,a,s){v(this,"_name");v(this,"_rewards");v(this,"_condition");if(this._name=t,this._condition=a,s.length===0)throw new Error(`Plan "${t??"unknown"}" must have at least one reward rule.`);this._rewards=s}get name(){return this._name}get storeList(){return le(this._rewards.flatMap(t=>[...t.stores,...t.storeBlackList]))}checkPlanIsVisible(t){return this._condition===null||!!(t!=null&&t.includes(this._condition))}getApplicableReward({transactionStore:t=null,acceptedPayments:a=[],transactionAttributesType:s,currentConditions:l=null}){return this._condition!==null&&!(l!=null&&l.includes(this._condition))?null:this._rewards.find(({stores:u,payments:o,transactionType:i,paymentBlackList:d,storeBlackList:y,condition:M})=>{const b=t===null||u.size===0||u.has(t),g=t===null||y.size===0||!y.has(t),e=a.length===0||o.size===0||a.some(P=>o.has(P)),n=a.length===0||d.size===0||a.some(P=>!d.has(P)),f=i===null||s===i,O=M===null||!!(l!=null&&l.includes(M));return b&&g&&e&&n&&f&&O})??null}getRewardMiles({transactionStore:t,acceptedPayments:a,amount:s,transactionAttributesType:l,currentConditions:u}){const o=this.getApplicableReward({acceptedPayments:a,transactionStore:t,transactionAttributesType:l,currentConditions:u});if(o===null)return null;const i=a===void 0?[...o.payments.values()]:a.filter(d=>o.payments.has(d));return{name:o.reward.name,miles:o.reward.calculateMiles(s),payments:i.filter(d=>!o.paymentBlackList.has(d)),reward:o.reward}}toJSON(){return{name:this._name,condition:this._condition,rewards:this._rewards.map(({reward:t,stores:a,payments:s,transactionType:l,paymentBlackList:u,storeBlackList:o,condition:i})=>({reward:t.toJSON(),stores:[...a.values()],storeBlackList:[...o.values()],payments:[...s.values()],paymentBlackList:[...u.values()],transactionType:l,condition:i}))}}}const Je=["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"],Ke={SJX:"星宇航空",EVA:"長榮航空",ANA:"全日空",JAL:"日航",CPA:"國泰航空",CAL:"華航"};class _e{constructor({name:t,description:a,plans:s,storeBlackList:l,paymentBlackList:u,cardUrl:o,updateAt:i,airLines:d}){v(this,"_selectedPlanId");v(this,"_name");v(this,"_description");v(this,"_plans");v(this,"_cardUrl");v(this,"_storeBlackList");v(this,"_paymentBlackList");v(this,"_updateAt");v(this,"_airLines");this._name=t,this._description=a,this._plans=s,this._cardUrl=o,this._storeBlackList=l,this._paymentBlackList=u,this._updateAt=i,this._airLines=d;const y=this._plans.keys().next().value;if(this._plans.size===0||y===void 0)throw new Error("this credit card no any plan");this._selectedPlanId=y}get airLines(){return Ke[this._airLines]}get airLinesCode(){return this._airLines}get selectedPlan(){return this._getPlan(this._selectedPlanId)}get name(){return this._name}get description(){return this._description}get selectedPlanId(){return this._selectedPlanId}get selectablePlan(){return[...this._plans.entries()].map(([t,{name:a}])=>({id:t,name:a}))}get storeList(){return le([...[...this._plans.values()].flatMap(t=>t.storeList),...this._storeBlackList])}get cardUrl(){return this._cardUrl}updatePlan(t){return this._plans.get(t)?(this._selectedPlanId=t,!0):!1}_getPlan(t){const a=this._plans.get(t);if(a===void 0)throw new Error(`plan id ${t} not found. Available plans: ${[...this._plans.keys()].join(", ")}`);return a}_rewardMilesWithPlan(t,a){var d;const s=this._getPlan(t),l={planId:null,planName:s.name,name:null,miles:0,payments:[],reward:null},u=a.transactionStore!==void 0&&this._storeBlackList.has(a.transactionStore),o=(d=a.acceptedPayments)==null?void 0:d.some(y=>this._paymentBlackList.has(y));if(u||o)return l;const i=s.getRewardMiles(a);return i===null?l:{planId:t,planName:s.name,...i}}currentPlanRewardMiles(t){return this._rewardMilesWithPlan(this._selectedPlanId,t)}getAllPlanRewardMiles(t){return[...this._plans.keys()].filter(a=>this._getPlan(a).checkPlanIsVisible(t.currentConditions??null)).map(a=>this._rewardMilesWithPlan(a,t))}toJSON(){return{name:this._name,description:this._description,cardUrl:this._cardUrl,storeBlackList:[...this._storeBlackList.values()],paymentBlackList:[...this._paymentBlackList.values()],plans:[...this._plans.values()].map(t=>t.toJSON()),updateAt:this._updateAt.toISOString(),airLines:this._airLines}}}function Ge({name:r,description:t,storeBlackList:a,paymentBlackList:s,cardUrl:l,plans:u,updateAt:o,airLines:i}){const d=new Map(u.map(({name:y,condition:M,rewards:b})=>[ye(),new Fe(y,M??null,b.map(({stores:g,payments:e,transactionType:n,reward:f,paymentBlackList:O,storeBlackList:P,condition:F})=>({reward:De(f),stores:new Set(g),storeBlackList:new Set(P),payments:new Set(e),paymentBlackList:new Set(O),transactionType:n??null,condition:F??null})))]));return new _e({name:r,description:t,plans:d,storeBlackList:new Set(a),paymentBlackList:new Set(s),cardUrl:l,updateAt:new Date(o),airLines:i})}const K=["分期付款"],G=[],te=["信用卡","Apple Pay","Samsung Pay","Google Pay","Fitbit Pay","Garmin Pay","Hami Pay"];function z(r,t,a){const s={reward:{type:"RoundedPointsReward",name:null,pointBackRates:[{rate:.3}],pointsPerMile:t,milesPerUnit:a}};return[{name:"集精選",rewards:[{reward:{type:"RoundedPointsReward",name:null,pointBackRates:[{rate:2}],pointsPerMile:t,milesPerUnit:a},stores:["家樂福","LOPIA台灣","全聯福利中心","台灣中油-直營","7-ELEVEN","全家便利商店","IKEA"],payments:[...te,"PX Pay","My FamiPay","OPEN錢包"]},s]},{name:"玩數位",rewards:[{reward:{type:"RoundedPointsReward",name:null,pointBackRates:[{rate:r}],pointsPerMile:t,milesPerUnit:a},stores:["App Store","Apple Music","iCloud","Apple TV+","Apple Arcade","Apple One","iTunes","Google Play","Disney+","Netflix","Spotify","KKBOX","YouTube Premium","蝦皮購物","momo購物網","PChome 24h購物(不含儲值及電子票券)","博客來","小樹購","Coupang 酷澎(台灣)","淘寶/天貓"],paymentBlackList:["Line Pay","街口支付"]},{...s,storeBlackList:["全聯福利中心"]}]},{name:"樂饗購",rewards:[{reward:{type:"RoundedPointsReward",name:null,pointBackRates:[{rate:r}],pointsPerMile:t,milesPerUnit:a},stores:["遠東SOGO百貨","遠東Garden City","太平洋百貨","新光三越","SKM Park","BELLAVITA","微風廣場","遠東百貨","Big City遠東巨城購物中心","誠品生活","環球購物中心","CITYLINK","統一時代","台北101","ATT 4 FUN","明曜百貨","京站","美麗華","大葉高島屋","比漾廣場","大江國際購物中心","中友百貨","廣三SOGO","Tiger City","勤美誠品綠園道","大魯閣新時代","耐斯廣場","南紡購物中心","夢時代","漢神百貨","漢神巨蛋","MITSUI OUTLET PARK 林口","MITSUI OUTLET PARK 台中港","MITSUI OUTLET PARK 台南","Mitsui Shopping Park LaLaport 台中","義大世界購物廣場","華泰名品城","義享天地","麗寶OUTLET Mall","秀泰生活","台茂購物中心","新月廣場","三創生活","宏匯廣場","高雄棧貳庫/大港倉","NOKE忠泰樂生活","Uber Eats","foodpanda","foodomo","國內餐飲(不含餐券)","麥當勞","康是美","屈臣氏"],payments:te},{...s,storeBlackList:["全聯福利中心"]}]},{name:"趣旅行",rewards:[{reward:{type:"RoundedPointsReward",name:null,pointBackRates:[{rate:r}],pointsPerMile:t,milesPerUnit:a},stores:["海外實體消費","東京迪士尼樂園","東京華納兄弟哈利波特影城","大阪環球影城(USJ)","吉卜力公園","Apple Wallet SUICA","Apple Wallet PASMO","Apple Wallet ICOCA","Uber","Grab","台灣高鐵","yoxi","台灣大車隊","iRent","和運租車","格上租車","中華航空","長榮航空","星宇航空","台灣虎航","國泰航空","樂桃航空","阿聯酋航空","酷航","捷星航空","日本航空","亞洲航空","聯合航空","ANA全日空","新加坡航空","越捷航空","大韓航空","達美航空","土耳其航空","卡達航空","法國航空","國內飯店住宿","星野集團","全球迪士尼飯店","東橫INN","KKday","Agoda","Klook","Airbnb","Hotels.com","Expedia","Booking.com","Trip.com","AsiaYo","ezTravel易遊網","雄獅旅遊","可樂旅遊","東南旅遊","五福旅遊","燦星旅遊","山富旅遊","長汎假期","鳳凰旅行社","Ezfly易飛網","理想旅遊","永利旅行社","三賀旅行社","173WIFI","JetFi mobile","威訊 WaySim","AIRSIM","SIM88"],payments:te},{...s,storeBlackList:["全聯福利中心"]}]},{name:"來支付",rewards:[{reward:{type:"RoundedPointsReward",name:null,pointBackRates:[{rate:2}],pointsPerMile:t,milesPerUnit:a},payments:["Line Pay"]},{...s,storeBlackList:["全聯福利中心"]}]},{name:"慶生月",condition:"Birthday",rewards:[{reward:{type:"RoundedPointsReward",name:null,pointBackRates:[{rate:10}],pointsPerMile:t,milesPerUnit:a},stores:["東京迪士尼樂園","大阪環球影城(USJ)","名古屋樂高樂園","紅葉蛋糕官方網站","法朋烘焙甜點坊","興波咖啡 華山旗艦店","海底撈火鍋","輕井澤鍋物","老四川巴蜀麻辣燙","二本松涮涮屋","橋山.壽喜燒","Umai屋馬燒肉","老井極上燒肉","燒肉中山(台中大墩)","藏壽司台灣","貳樓","膳馨民間創作料理","馨苑小料理","雅室牛排 仁愛圓環店","ABV餐飲集團","WAT","臺虎精釀(信義 | 西門 | 臺中 | 啜飲室大安)","BAR Bodega","BAR MED","JiN Her 今鶴","錢櫃KTV","好樂迪KTV","星聚點KTV","享溫馨KTV","Nintendo","巴哈姆特動畫瘋","閃動格子CyberCube"]},{reward:{type:"RoundedPointsReward",name:null,pointBackRates:[{rate:3.5}],pointsPerMile:t,milesPerUnit:a},stores:["新光三越","Uber Eats (不含 Uber One)","Agoda","Trip.com","Klook","國內飯店住宿","星野集團","全球迪士尼飯店","東橫INN"]},{...s,storeBlackList:["全聯福利中心"]}]}]}const ze=[{name:"Cube 卡",description:"Cube 卡 (Level 1) 回饋方案",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/cube/",storeBlackList:K,paymentBlackList:G,updateAt:"2024-12-01T00:00:00.000Z",airLines:"EVA",plans:z(2,360,1e3)},{name:"Cube 卡",description:"Cube 卡 (Level 2) 回饋方案",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/cube/",storeBlackList:K,paymentBlackList:G,updateAt:"2024-12-01T00:00:00.000Z",airLines:"EVA",plans:z(3,360,1e3)},{name:"Cube 卡",description:"Cube 卡 (Level 3) 回饋方案",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/cube/",storeBlackList:K,paymentBlackList:G,updateAt:"2024-12-01T00:00:00.000Z",airLines:"EVA",plans:z(3.3,360,1e3)},{name:"Cube 卡",description:"Cube 卡 (Level 1) 回饋方案 + 長榮世界卡",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/cube/",storeBlackList:K,paymentBlackList:G,updateAt:"2024-12-01T00:00:00.000Z",airLines:"EVA",plans:z(2,300,1e3)},{name:"Cube 卡",description:"Cube 卡 (Level 2) 回饋方案 + 長榮世界卡",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/cube/",storeBlackList:K,paymentBlackList:G,updateAt:"2024-12-01T00:00:00.000Z",airLines:"EVA",plans:z(3,300,1e3)},{name:"Cube 卡",description:"Cube 卡 (Level 3) 回饋方案 + 長榮世界卡",cardUrl:"https://www.cathaybk.com.tw/cathaybk/personal/product/credit-card/cards/cube/",storeBlackList:K,paymentBlackList:G,updateAt:"2024-12-01T00:00:00.000Z",airLines:"EVA",plans:z(3.3,300,1e3)}],Z=["政府稅款","公共事業代扣繳","交通違規罰鍰","分期付款","全聯福利中心","7-ELEVEN","全家便利商店"],Q=[],Xe=[{name:"星宇世界卡",description:"",cardUrl:"https://www.esunbank.com/zh-tw/personal/credit-card/intro/co-branded-card/starlux-card",storeBlackList:Z,paymentBlackList:Q,airLines:"SJX",plans:[{name:null,rewards:[{reward:{type:"DirectMilesReward",name:"國外消費",spendingPerMile:5},transactionType:"Foreign",condition:"Birthday"},{reward:{type:"DirectMilesReward",name:"國外消費",spendingPerMile:10},transactionType:"Foreign"},{reward:{type:"DirectMilesReward",name:"國內消費",spendingPerMile:20},transactionType:"Domestic"}]}],updateAt:new Date("2024/12/01 00:00:00").toISOString()},{name:"星宇商務鈦金卡",description:"",cardUrl:"https://www.esunbank.com/zh-tw/personal/credit-card/intro/co-branded-card/starlux-card",storeBlackList:Z,paymentBlackList:Q,airLines:"SJX",plans:[{name:null,rewards:[{reward:{type:"DirectMilesReward",name:"國外消費",spendingPerMile:7.5},transactionType:"Foreign",condition:"Birthday"},{reward:{type:"DirectMilesReward",name:"國外消費",spendingPerMile:15},transactionType:"Foreign"},{reward:{type:"DirectMilesReward",name:"國內消費",spendingPerMile:25},transactionType:"Domestic"}]}],updateAt:new Date("2024/12/01 00:00:00").toISOString()},{name:"星宇鈦金卡",description:"",cardUrl:"https://www.esunbank.com/zh-tw/personal/credit-card/intro/co-branded-card/starlux-card",storeBlackList:Z,paymentBlackList:Q,airLines:"SJX",plans:[{name:null,rewards:[{reward:{type:"DirectMilesReward",name:"國外消費",spendingPerMile:20},transactionType:"Foreign"},{reward:{type:"DirectMilesReward",name:"國內消費",spendingPerMile:28},transactionType:"Domestic"}]}],updateAt:new Date("2024/12/01 00:00:00").toISOString()}],ae=["台灣中油-直營","台灣大車隊","台鐵","台灣高鐵","UBER","Yoxi","LINEGO","新光三越","遠東百貨","遠東SOGO百貨","誠品生活","漢神百貨","微風廣場","微風信義","微風南京","微風南山","微風台北車站","環球購物中心","台北101","華泰名品城","MITSUI OUTLET PARK 林口","MITSUI OUTLET PARK 台中港","MITSUI OUTLET PARK 台南","Big City遠東巨城購物中心","昇恆昌","夢時代購物中心","京站","美麗華","南紡購物中心","秀泰生活","台茂購物中心","Mitsui Shopping Park LaLaport 台中","統領廣場","采盟","Uber Eats","foodpanda","星巴克","EZTABLE","王品瘋美食","摩斯漢堡","foodomo","漢來美食","饗Joy","饗食天堂","果然匯","小福利","饗饗","旭集","開飯","饗泰多","真珠","瓦城","非常泰","大心","1010","時時香","BOBO","乾杯集團","路易莎","中華航空","長榮航空","日本航空","台灣虎航","樂桃航空","酷航","立榮航空","華信航空","Agoda","booking.com","Hotels.com","AsiaYo","Expedia","KKday","Klook","雄獅旅遊","可樂旅遊","東南旅行社","Apple直營店","小米台灣","全國電子","燦坤","迪卡儂","屈臣氏","康是美","IKEA","特力屋","特力和樂","UNIQLO","NET","大樹藥局","丁丁藥妝","momo購物網","蝦皮購物","淘寶網","Coupang酷澎","東森購物","雅虎奇摩購物中心","博客來","玉山Wallet愛心捐款-單筆捐款","玉山Wallet愛心捐款-定期定額","特斯拉","Gogoro電池資費","YouBike 2.0","日本實體店","韓國實體店","泰國實體店","越南實體店","新加坡實體店","中國實體店","香港實體店","澳門實體店","美國實體店","英國實體店","法國實體店","德國實體店","義大利實體店"],se={reward:{type:"TruncatedPointsReward",name:null,pointBackRates:[{rate:.3},{rate:.7}],pointsPerMile:200,milesPerUnit:300}},We=[{name:"UniCard 卡",description:"",cardUrl:"https://www.esunbank.com/zh-tw/personal/credit-card/intro/bank-card/unicard",storeBlackList:Z,paymentBlackList:Q,airLines:"EVA",plans:[{name:"任意選 (需要切換店家)",rewards:[{reward:{type:"TruncatedPointsReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:2.5,limit:500}],pointsPerMile:200,milesPerUnit:300},stores:ae,payments:["信用卡","Apple Pay","Samsung Pay","Google Pay"]},{reward:{type:"TruncatedPointsReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:2.5,limit:500}],pointsPerMile:200,milesPerUnit:300},payments:["Line Pay","街口支付","悠遊付","橘子支付","icash pay"]},se]},{name:"簡單選",rewards:[{reward:{type:"TruncatedPointsReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:2,limit:500}],pointsPerMile:200,milesPerUnit:300},stores:ae,payments:["信用卡","Apple Pay","Samsung Pay","Google Pay"]},{reward:{type:"TruncatedPointsReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:2,limit:500}],pointsPerMile:200,milesPerUnit:300},payments:["Line Pay","街口支付","悠遊付","橘子支付","icash pay"]},se]},{name:"UP選",rewards:[{reward:{type:"TruncatedPointsReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:3.5,limit:2e3}],pointsPerMile:200,milesPerUnit:300},stores:ae,payments:["信用卡","Apple Pay","Samsung Pay","Google Pay"]},{reward:{type:"TruncatedPointsReward",name:null,pointBackRates:[{rate:.3},{rate:.7},{rate:3.5,limit:2e3}],pointsPerMile:200,milesPerUnit:300},payments:["Line Pay","街口支付","悠遊付","橘子支付","icash pay"]},se]}],updateAt:new Date("2024/12/01 00:00:00").toISOString()}],ne=["政府稅款","公共事業代扣繳","交通違規罰鍰","分期付款"],ie=["全盈+PAY","icash pay","OPEN錢包","My FamiPay"],je=[{name:"旅人無限卡",description:"",cardUrl:"https://www.hsbc.com.tw/credit-cards/products/travel/visa-infinite/",storeBlackList:ne,paymentBlackList:ie,airLines:"EVA",plans:[{name:null,rewards:[{reward:{type:"CumulativeMilesReward",name:"國外消費",spendingPerMile:10},transactionType:"Foreign"},{reward:{type:"CumulativeMilesReward",name:"國內消費",spendingPerMile:18},transactionType:"Domestic"}]}],updateAt:new Date("2024/12/01 00:00:00").toISOString()},{name:"旅人御璽卡",description:"",cardUrl:"https://www.hsbc.com.tw/credit-cards/products/travel/visa-signature/",storeBlackList:ne,paymentBlackList:ie,airLines:"EVA",plans:[{name:null,rewards:[{reward:{type:"CumulativeMilesReward",name:"國外消費",spendingPerMile:15},transactionType:"Foreign"},{reward:{type:"CumulativeMilesReward",name:"國內消費",spendingPerMile:18},transactionType:"Domestic"}]}],updateAt:new Date("2024/12/01 00:00:00").toISOString()},{name:"旅人輕旅卡",description:"",cardUrl:"https://www.hsbc.com.tw/credit-cards/products/travel/visa-light/",storeBlackList:ne,paymentBlackList:ie,airLines:"EVA",plans:[{name:null,rewards:[{reward:{type:"CumulativeMilesReward",name:"國外消費",spendingPerMile:20},transactionType:"Foreign"},{reward:{type:"CumulativeMilesReward",name:"國內消費",spendingPerMile:20},transactionType:"Domestic"}]}],updateAt:new Date("2024/12/01 00:00:00").toISOString()}],He=[je[2],ze[4],Xe[0],We[0]].filter(xe),Ye=[["7-ELEVEN",["7-11","Seven Eleven","統一超商","小7"]],["ANA全日空",["ANA","全日空","All Nippon Airways","NH"]],["ATT 4 FUN",["ATT4FUN","ATT信義"]],["App Store",["蘋果應用商店"]],["Apple Arcade",["蘋果遊戲訂閱服務"]],["Apple Music",["蘋果音樂","Apple音樂"]],["Apple One",["蘋果One訂閱"]],["Apple TV+",["Apple TV Plus"]],["Apple Wallet ICOCA",["ICOCA電子票","Apple錢包ICOCA"]],["Apple Wallet PASMO",["PASMO電子票","Apple錢包PASMO"]],["Apple Wallet SUICA",["SUICA電子票","Apple錢包SUICA"]],["CITYLINK",["City Link"]],["Disney+",["Disney Plus","迪士尼+"]],["Google Play",["Google應用商店"]],["Grab",["Grab Taxi","Grab叫車"]],["MITSUI OUTLET PARK 台中港",["三井台中港","三井OUTLET台中"]],["MITSUI OUTLET PARK 台南",["三井台南","三井OUTLET台南"]],["MITSUI OUTLET PARK 林口",["三井林口","三井OUTLET林口"]],["Mitsui Shopping Park LaLaport 台中",["LaLaport台中","三井LaLaport台中"]],["Netflix",["網飛"]],["Nintendo",["任天堂","Switch","老任"]],["PChome 24h購物(不含儲值及電子票券)",["PChome","PChome購物"]],["Tiger City",["老虎城","Tiger City購物中心"]],["Trip.com",["攜程"]],["Uber Eats (不含 Uber One)",["優步外送"]],["foodpanda",["熊貓外送","Food Panda"]],["iCloud",["蘋果雲端","iCloud雲端"]],["iRent",["i Rent"]],["iTunes",["蘋果iTunes"]],["中友百貨",["中友"]],["中華航空",["China Airlines","CAL","CI","華航"]],["亞洲航空",["AirAsia","亞航","AXM","AK"]],["京站",["Q Square","京站商場"]],["全家便利商店",["FamilyMart","全家"]],["全球迪士尼飯店",["Disney Hotels"]],["全聯福利中心",["PX Mart"]],["南紡購物中心",["Tainan Spinnery Mall","南紡"]],["博客來",["Books.com.tw"]],["卡達航空",["Qatar Airways","卡航","QTR","QR"]],["可樂旅遊",["Cola Travel","可樂旅行社"]],["台北101",["Taipei 101","101大樓"]],["台灣中油-直營",["中油直營","直營中油"]],["台灣大車隊",["Taiwan Taxi","大車隊"]],["台灣虎航",["Tigerair Taiwan","台虎","TWA","IT"]],["台灣高鐵",["Taiwan High Speed Rail"]],["台茂購物中心",["TaiMall"]],["吉卜力公園",["Ghibli Park"]],["國泰航空",["Cathay Pacific","國泰","CPA","CX","Cathay Pacific Airways"]],["土耳其航空",["Turkish Airlines","土航","THY","TK"]],["夢時代",["Dream Mall"]],["大阪環球影城(USJ)",["Universal Studios Japan"]],["大韓航空",["Korean Air","韓航","KAL","KE"]],["大魯閣新時代",["Taroko Mall","大魯閣"]],["太平洋百貨",["Pacific Department Store","太平洋"]],["好樂迪KTV",["Holiday"]],["家樂福",["Carrefour"]],["屈臣氏",["Watsons"]],["康是美",["Cosmed"]],["捷星航空",["JST","JQ","Jetstar Airways"]],["新加坡航空",["SIA","SQ","Singapore Airlines"]],["日本航空",["JAL","JL","Japan Airlines"]],["星宇航空",["starlux","SJX","JX","STARLUX Airlines"]],["樂桃航空",["APJ","MM","Peach Aviation"]],["法國航空",["AFR","AF","Air France"]],["聯合航空",["UAL","UA","United Airlines"]],["蝦皮購物",["shopee"]],["越捷航空",["VJC","VJ","VietJet Air"]],["達美航空",["DAL","DL","Delta Air Lines"]],["遠東百貨",["遠百"]],["酷航",["SCO","TR","Scoot"]],["長榮航空",["EVA","BR","EVA Airlines","EVA Air"]],["阿聯酋航空",["UAE","EK","Emirates"]],["麥當勞",["McDonald's"]],["IKEA",["宜家家居"]],["星巴克",["starbucks"]]],Ze=r=>r==="AllPlanRewardMiles"||r==="CurrentPlanRewardMiles",E=new Be(localStorage,{showRewardMilesType:Ze,commonPaymentMethods:(()=>{const r=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]);return t=>Array.isArray(t)&&t.every(a=>r.has(a)===!0)})(),cardConfigs:(()=>{const r=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),t=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),a=new Set(["信用卡","Apple Pay","Samsung Pay","Google Pay","Line Pay","Fitbit Pay","Garmin Pay","Hami Pay","街口支付","全盈+PAY","全支付","Pi錢包","橘子支付","歐付寶","icash pay","OPEN錢包","My FamiPay","悠遊付","ezPay","GOMAJI Pay","friday wallet","PayPal","PX Pay","中油Pay","台灣Pay","支付寶"]),s=e=>typeof e.name=="string"&&typeof e.description=="string"&&(e.cardUrl===null||typeof e.cardUrl=="string")&&(e.storeBlackList===void 0||Array.isArray(e.storeBlackList)&&e.storeBlackList.every(n=>typeof n=="string"))&&(e.paymentBlackList===void 0||Array.isArray(e.paymentBlackList)&&e.paymentBlackList.every(n=>r.has(n)===!0))&&Array.isArray(e.plans)&&e.plans.every(n=>typeof n=="object"&&n!==null&&l(n))&&(e.airLines==="SJX"||e.airLines==="EVA"||e.airLines==="ANA"||e.airLines==="JAL"||e.airLines==="CPA"||e.airLines==="CAL")&&typeof e.updateAt=="string"&&RegExp(/^[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\x2d[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\x2d[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?T[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?:[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?:[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\.[+-]?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?Z$/).test(e.updateAt),l=e=>(e.name===null||typeof e.name=="string")&&Array.isArray(e.rewards)&&e.rewards.every(n=>typeof n=="object"&&n!==null&&u(n))&&(e.condition===null||e.condition===void 0||e.condition==="Birthday"),u=e=>typeof e.reward=="object"&&e.reward!==null&&g(e.reward)&&(e.transactionType===null||e.transactionType===void 0||e.transactionType==="Domestic"||e.transactionType==="Foreign")&&(e.stores===void 0||Array.isArray(e.stores)&&e.stores.every(n=>typeof n=="string"))&&(e.storeBlackList===void 0||Array.isArray(e.storeBlackList)&&e.storeBlackList.every(n=>typeof n=="string"))&&(e.payments===void 0||Array.isArray(e.payments)&&e.payments.every(n=>t.has(n)===!0))&&(e.paymentBlackList===void 0||Array.isArray(e.paymentBlackList)&&e.paymentBlackList.every(n=>a.has(n)===!0))&&(e.condition===null||e.condition===void 0||e.condition==="Birthday"),o=e=>Array.isArray(e.pointBackRates)&&e.pointBackRates.every(n=>typeof n=="object"&&n!==null&&i(n))&&e.type==="RoundedPointsReward"&&(e.name===null||typeof e.name=="string")&&typeof e.pointsPerMile=="number"&&typeof e.milesPerUnit=="number",i=e=>typeof e.rate=="number"&&(e.limit===void 0||typeof e.limit=="number"),d=e=>Array.isArray(e.pointBackRates)&&e.pointBackRates.every(n=>typeof n=="object"&&n!==null&&i(n))&&e.type==="TruncatedPointsReward"&&(e.name===null||typeof e.name=="string")&&typeof e.pointsPerMile=="number"&&typeof e.milesPerUnit=="number",y=e=>typeof e.spendingPerPoint=="number"&&e.type==="PointsRewardPerThreshold"&&(e.name===null||typeof e.name=="string")&&typeof e.pointsPerMile=="number"&&typeof e.milesPerUnit=="number",M=e=>typeof e.spendingPerMile=="number"&&e.type==="CumulativeMilesReward"&&(e.name===null||typeof e.name=="string"),b=e=>typeof e.spendingPerMile=="number"&&e.type==="DirectMilesReward"&&(e.name===null||typeof e.name=="string"),g=e=>e.type==="TruncatedPointsReward"?d(e):e.type==="RoundedPointsReward"?o(e):e.type==="PointsRewardPerThreshold"?y(e):e.type==="DirectMilesReward"?b(e):e.type==="CumulativeMilesReward"?M(e):!1;return e=>Array.isArray(e)&&e.every(n=>typeof n=="object"&&n!==null&&s(n))})(),conditionTypes:r=>Array.isArray(r)&&r.every(t=>t==="Birthday"),aliasType:r=>r==="default"||r==="additional"||r==="custom",customAliases:r=>Array.isArray(r)&&r.every(t=>Array.isArray(t)&&t.length===2&&typeof t[0]=="string"&&Array.isArray(t[1])&&t[1].every(a=>typeof a=="string"))},"bestMileageCards"),he=["default","additional","custom"],oe=be("BestMileageCards",()=>{fe(()=>{const n=E.get("cardConfigs")??[];l.value=new Map(n.map(f=>[ye(),f]))});const r=S(E.get("showRewardMilesType")??"AllPlanRewardMiles");function t(n){E.set("showRewardMilesType",n),r.value=n}const a=S(E.get("commonPaymentMethods")??["信用卡","Apple Pay","Line Pay","街口支付"]);function s([...n]){n=[...new Set(n)],E.set("commonPaymentMethods",n),a.value=n}const l=S(new Map),u=W(()=>(l.value.size===0?He:[...l.value.values()]).map(f=>Ge(f)));function o(n,f){l.value.set(n,f),E.set("cardConfigs",[...l.value.values()])}const i=W(()=>me(le(u.value.flatMap(n=>n.storeList)),"asc")),d=S(E.get("conditionTypes")??[]);function y([...n]){d.value=n,E.set("conditionTypes",n)}const M=S(E.get("aliasType")??"default");function b(n){he.includes(n)&&(M.value=n,E.set("aliasType",n))}const g=S(E.get("customAliases")),e=W(()=>{const n=[];["default","additional"].includes(M.value)&&n.push(...Ye),["additional","custom"].includes(M.value)&&g.value!==null&&n.push(...g.value);const f=new Map;for(const[O,P]of n){const F=f.get(O)??new Set;for(const p of P)F.add(p);f.set(O,F)}return f});return{showRewardMilesType:J(r),updateShowRewardMilesType:t,commonPaymentMethods:J(a),updateCommonPaymentMethods:s,cards:u,updateCardConfig:o,storeList:J(i),conditionTypes:J(d),updateConditionTypes:y,aliasType:J(M),storeAliases:e,updateAliasType:b,customAliases:J(g)}}),Qe={class:"flex-col gap-24px my-16px"},qe={class:"flex-center gap-8px"},et={class:"flex mx-16px"},tt=ee({__name:"CommonSettings",setup(r){const t=oe(),{showRewardMilesType:a,commonPaymentMethods:s,conditionTypes:l}=re(t);return(u,o)=>{const i=_("v-label"),d=_("v-radio"),y=_("v-radio-group"),M=_("v-select"),b=_("v-switch");return A(),B("div",Qe,[w("div",qe,[h(i,{text:"回饋顯示"}),h(y,{"model-value":k(a),"hide-details":"",inline:"","onUpdate:modelValue":o[0]||(o[0]=g=>g!==null&&k(t).updateShowRewardMilesType(g))},{default:T(()=>[h(d,{density:"compact",label:"全部方案",value:"AllPlanRewardMiles"}),h(d,{density:"compact",label:"當前方案",value:"CurrentPlanRewardMiles"})]),_:1},8,["model-value"])]),w("div",null,[h(M,{"model-value":k(s),items:k(me)(k(Je),"asc"),label:"使用中的付款方式",multiple:"","hide-details":"","onUpdate:modelValue":o[1]||(o[1]=g=>g!==null&&k(t).updateCommonPaymentMethods(g))},null,8,["model-value","items"])]),w("div",null,[h(i,{text:"其他設定"}),w("div",et,[h(b,{"model-value":k(l),label:"生日中",value:"Birthday","hide-details":"",color:"blue","onUpdate:modelValue":o[2]||(o[2]=g=>g!==null&&k(t).updateConditionTypes(g))},null,8,["model-value"])])])])}}}),at={};function st(r,t){return"管理信用卡的設定"}const nt=Pe(at,[["render",st]]),it={class:"flex-col gap-8px h-full"},rt={class:"flex items-center flex-wrap gap-x-8px"},lt={class:"flex-center gap-8px"},ot={ref:"rewardCardList",class:"gap-4px flex-col flex-grow-1 overflow-y-auto"},dt={class:"flex items-center justify-between"},ct={class:"flex items-end gap-4px"},pt={class:"text-12px opacity-50 p-4px"},ut={key:0,class:"fa-solid fa-circle-check"},mt={class:"flex-col gap-8px"},yt={class:"text-0.75rem"},Pt={class:"text-wrap"},_t={class:"flex-col"},ht={class:"flex justify-between"},wt=["href"],gt={key:0},vt="其他店家",Mt=ee({__name:"SearchReward",setup(r){const{showRewardMilesType:t,commonPaymentMethods:a,cards:s,conditionTypes:l,storeAliases:u,storeList:o}=re(oe()),i=S(0),d=S(""),y=S("Domestic"),M=S([]),b=pe("rewardCardList"),g=pe("storeAutoComplete"),e=W(()=>{const p=o.value.map(c=>({store:c,aliases:[...u.value.get(c)??[]]}));return[{store:vt},...p]});function n(p,c,R){return c=c.toLowerCase(),[p,...(R==null?void 0:R.raw.aliases)??[]].map(L=>L.toLowerCase()).some(L=>L.includes(c))}function f(p,c){return t.value==="CurrentPlanRewardMiles"?[p.currentPlanRewardMiles(c)]:p.getAllPlanRewardMiles(c)}const O=W(()=>{var R,I;const p={amount:i.value,acceptedPayments:M.value,transactionAttributesType:y.value,currentConditions:[...l.value]};d.value!==""&&(p.transactionStore=d.value);const c=[];for(const L of s.value){if(!(L instanceof _e))continue;const V=f(L,p);for(const C of V){const X={cardName:L.name,planName:C.planName,rewardName:C.name,miles:C.miles,payments:C.payments,airLinesCode:L.airLinesCode,isSelectedPlan:t.value==="AllPlanRewardMiles"&&C.planId===L.selectedPlanId,calculateDetail:F(C.reward),rewardDescription:((R=C.reward)==null?void 0:R.description)??null,cardUrl:L.cardUrl,description:L.description};c.push(X)}}return(I=b.value)==null||I.scrollTo({top:0,behavior:"smooth"}),ue(ue(c,"isSelectedPlan","desc"),"miles","desc")}),P=S(null);function F(p){const c="回饋計算:";switch(p==null?void 0:p.type){case"RoundedPointsReward":case"TruncatedPointsReward":{const R=p.type==="RoundedPointsReward"?Math.round:Math.floor;let I=0;return[c,...p.pointBackRates.map(({rate:L,limit:V})=>{const C=Math.min(R(i.value*L/100),V??1/0);I+=C;const X=V!==void 0?` (limit ${V})`:"";return`${i.value} * ${L}% = ${C}${X}`}),`總計 ${I} points`,`${I} / ${p.pointsPerMile} * ${p.milesPerUnit} = ${Math.round(I/p.pointsPerMile*p.milesPerUnit*100)/100} miles`]}case"PointsRewardPerThreshold":{const R=Math.floor(i.value/p.spendingPerPoint);return[c,`${i.value} / ${p.spendingPerPoint} = ${R} points`,`${R} / ${p.pointsPerMile} * ${p.milesPerUnit} = ${Math.round(R/p.pointsPerMile*p.milesPerUnit*100)/100} miles`]}case"CumulativeMilesReward":return[c,`${i.value} / ${p.spendingPerMile} = ${Math.round(i.value/p.spendingPerMile*100)/100}`];case"DirectMilesReward":return[c,`${i.value} / ${p.spendingPerMile} = ${Math.floor(i.value/p.spendingPerMile)} (小數省略)`];default:return[]}}return(p,c)=>{const R=_("v-text-field"),I=_("v-autocomplete"),L=_("v-label"),V=_("v-checkbox"),C=_("v-radio"),X=_("v-radio-group"),ce=_("v-card"),we=_("v-btn"),ge=_("v-dialog");return A(),B($,null,[w("div",it,[h(R,{"model-value":i.value,class:"flex-grow-0",density:"comfortable","hide-details":"",label:"交易金額",inputmode:"decimal",clearable:i.value!==0,"onUpdate:modelValue":c[0]||(c[0]=m=>i.value=isNaN(parseFloat(m))?0:parseFloat(m))},null,8,["model-value","clearable"]),h(I,{ref:"storeAutoComplete",modelValue:d.value,"onUpdate:modelValue":c[1]||(c[1]=m=>d.value=m),"custom-filter":n,class:"flex-grow-0",density:"comfortable","hide-details":"","item-value":"store","item-title":"store",label:"消費店家",items:e.value,clearable:d.value!=="",placeholder:"全部店家","onUpdate:menu":c[2]||(c[2]=m=>{var N;return!m&&((N=k(g))==null?void 0:N.blur())})},null,8,["modelValue","items","clearable"]),w("div",null,[h(L,{text:"支援的付款方式"}),w("div",rt,[(A(!0),B($,null,j(k(a),(m,N)=>(A(),D(V,{key:N,modelValue:M.value,"onUpdate:modelValue":c[3]||(c[3]=ve=>M.value=ve),density:"compact",value:m,"hide-details":"",label:m},null,8,["modelValue","value","label"]))),128))])]),w("div",lt,[h(L,{text:"交易類型"}),h(X,{modelValue:y.value,"onUpdate:modelValue":c[4]||(c[4]=m=>y.value=m),"hide-details":"",inline:""},{default:T(()=>[h(C,{density:"compact",label:"國內交易",value:"Domestic"}),h(C,{density:"compact",label:"國外交易",value:"Foreign"})]),_:1},8,["modelValue"])]),w("div",ot,[(A(!0),B($,null,j(O.value,(m,N)=>(A(),D(ce,{key:N,density:"compact",class:"mx-auto w-full flex-shrink-0",variant:"outlined",onClick:()=>P.value=m},{title:T(()=>[w("div",dt,[w("div",ct,[q(x(m.miles)+" ",1),w("p",pt,x(m.airLinesCode),1)]),m.isSelectedPlan?(A(),B("i",ut)):Y("",!0)])]),text:T(()=>[w("div",mt,[w("p",yt,x(`${m.cardName} ${m.planName??""} ${m.rewardName??""}`)+" "+x(m.payments.length===0?"":` (支付方式: ${m.payments.join(", ")})`),1)])]),_:2},1032,["onClick"]))),128))],512)]),h(ge,{"model-value":!!P.value,"onUpdate:modelValue":c[6]||(c[6]=m=>P.value=null)},{default:T(()=>[P.value?(A(),D(ce,{key:0,class:"mx-auto reward-detail-dialog","min-width":"100%",title:`${P.value.cardName} ${P.value.planName??""} ${P.value.rewardName??""}`},{subtitle:T(()=>[w("p",Pt,x(P.value.rewardDescription??""),1)]),text:T(()=>[w("div",_t,[w("p",ht,[c[7]||(c[7]=q(" 卡片說明： ")),P.value.cardUrl!==null?(A(),B("a",{key:0,target:"_blank",class:"underline",href:P.value.cardUrl}," 網站 ",8,wt)):Y("",!0)]),P.value.description!==""?(A(),B("p",gt,x(P.value.description),1)):Y("",!0),c[8]||(c[8]=w("br",null,null,-1)),w("p",null,"消費金額: "+x(i.value),1),w("p",null,"哩程預估: "+x(P.value.miles)+" "+x(P.value.airLinesCode),1),c[9]||(c[9]=w("br",null,null,-1)),(A(!0),B($,null,j(P.value.calculateDetail,(m,N)=>(A(),B("p",{key:N},x(m),1))),128))])]),actions:T(()=>[h(we,{class:"ms-auto",text:"Close",onClick:c[5]||(c[5]=m=>P.value=null)})]),_:1},8,["title"])):Y("",!0)]),_:1},8,["model-value"])],64)}}}),At=Pe(Mt,[["__scopeId","data-v-4b6e420c"]]),ft=ee({__name:"StoreAliasManagement",setup(r){const t=oe(),{aliasType:a}=re(t),s={default:"系統預設",additional:"預設+自定義",custom:"自定義"};return(l,u)=>{const o=_("v-label"),i=_("v-btn"),d=_("v-btn-toggle");return A(),B($,null,[h(o,{text:"別名設定"}),h(d,{"model-value":k(a),rounded:"0",group:"",class:"w-full flex justify-center","onUpdate:modelValue":k(t).updateAliasType},{default:T(()=>[(A(!0),B($,null,j(k(he),(y,M)=>(A(),D(i,{key:M,class:"flex-1",value:y},{default:T(()=>[q(x(s[y]),1)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value","onUpdate:modelValue"])],64)}}}),Lt={style:{height:"calc(100dvh - 56px)"},class:"overflow-hidden mt-56px p-8px"},Tt=ee({__name:"App",setup(r){const t={查詢回饋:At,信用卡管理:nt,商家別名:ft,喜好設定:tt},a=Object.keys(t),s=S(!1),l=S(a[0]);return(u,o)=>{const i=_("v-app-bar-nav-icon"),d=_("v-app-bar-title"),y=_("v-app-bar"),M=_("v-list-item"),b=_("v-divider"),g=_("v-navigation-drawer"),e=_("v-app");return A(),D(e,null,{default:T(()=>[h(y,{density:"comfortable",elevation:2},{prepend:T(()=>[h(i,{onClick:o[0]||(o[0]=n=>s.value=!s.value)},{default:T(()=>o[2]||(o[2]=[w("i",{class:"fa-solid fa-bars"},null,-1)])),_:1}),h(d,null,{default:T(()=>[q(x(l.value),1)]),_:1})]),_:1}),h(g,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=n=>s.value=n)},{default:T(()=>[(A(!0),B($,null,j(k(a),(n,f)=>(A(),B($,{key:f},[h(M,{title:n,class:Le(["h-48px",{"text-emphasis":l.value===n}]),onClick:()=>{l.value=n,s.value=!1}},null,8,["title","class","onClick"]),h(b)],64))),128))]),_:1},8,["modelValue"]),w("main",Lt,[(A(),D(Te,null,[(A(),D(Re(t[l.value])))],1024))])]),_:1})}}}),de=ke(Tt);de.use(Se);de.use(Ce());de.mount("#app");
//# sourceMappingURL=bestMileageCards-madIXY3T.js.map
